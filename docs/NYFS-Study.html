<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 NHANES National Youth Fitness Survey (nnyfs) | Data Science for Biological, Medical and Health Research: Notes for PQHS 431</title>
  <meta name="description" content="Chapter 7 NHANES National Youth Fitness Survey (nnyfs) | Data Science for Biological, Medical and Health Research: Notes for PQHS 431" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 NHANES National Youth Fitness Survey (nnyfs) | Data Science for Biological, Medical and Health Research: Notes for PQHS 431" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 NHANES National Youth Fitness Survey (nnyfs) | Data Science for Biological, Medical and Health Research: Notes for PQHS 431" />
  
  
  

<meta name="author" content="Thomas E. Love, Ph.D." />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="summarizing-categorical-variables.html"/>
<link rel="next" href="assessing-normality.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Notes for PQHS 431</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure"><i class="fa fa-check"></i>Structure</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-philosophy"><i class="fa fa-check"></i>Course Philosophy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#working-with-this-document"><i class="fa fa-check"></i>Working with this Document</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="data-science.html"><a href="data-science.html"><i class="fa fa-check"></i><b>1</b> Data Science</a><ul>
<li class="chapter" data-level="1.1" data-path="data-science.html"><a href="data-science.html#why-a-unicorn"><i class="fa fa-check"></i><b>1.1</b> Why a unicorn?</a></li>
<li class="chapter" data-level="1.2" data-path="data-science.html"><a href="data-science.html#data-science-project-cycle"><i class="fa fa-check"></i><b>1.2</b> Data Science Project Cycle</a></li>
<li class="chapter" data-level="1.3" data-path="data-science.html"><a href="data-science.html#what-will-we-discuss-in-431"><i class="fa fa-check"></i><b>1.3</b> What Will We Discuss in 431?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Rsetup.html"><a href="Rsetup.html"><i class="fa fa-check"></i><b>2</b> Setting Up R</a><ul>
<li class="chapter" data-level="2.1" data-path="Rsetup.html"><a href="Rsetup.html#r-markdown"><i class="fa fa-check"></i><b>2.1</b> R Markdown</a></li>
<li class="chapter" data-level="2.2" data-path="Rsetup.html"><a href="Rsetup.html#r-packages"><i class="fa fa-check"></i><b>2.2</b> R Packages</a></li>
<li class="chapter" data-level="2.3" data-path="Rsetup.html"><a href="Rsetup.html#other-packages"><i class="fa fa-check"></i><b>2.3</b> Other Packages</a></li>
</ul></li>
<li class="part"><span><b>Part A. Exploring Data</b></span></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualizing Data</a><ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#the-nhanes-data-collecting-a-sample"><i class="fa fa-check"></i><b>3.1</b> The NHANES data: Collecting a Sample</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#age-and-height"><i class="fa fa-check"></i><b>3.2</b> Age and Height</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#subset-of-subjects-with-known-age-and-height"><i class="fa fa-check"></i><b>3.3</b> Subset of Subjects with Known Age and Height</a><ul>
<li class="chapter" data-level="3.3.1" data-path="dataviz.html"><a href="dataviz.html#the-distinction-between-gender-and-sex"><i class="fa fa-check"></i><b>3.3.1</b> The Distinction between <code>Gender</code> and <code>Sex</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#age-height-and-sex"><i class="fa fa-check"></i><b>3.4</b> Age-Height and Sex?</a><ul>
<li class="chapter" data-level="3.4.1" data-path="dataviz.html"><a href="dataviz.html#can-we-show-the-female-and-male-relationships-in-separate-panels"><i class="fa fa-check"></i><b>3.4.1</b> Can we show the Female and Male relationships in separate panels?</a></li>
<li class="chapter" data-level="3.4.2" data-path="dataviz.html"><a href="dataviz.html#can-we-add-a-smooth-curve-to-show-the-relationship-in-each-plot"><i class="fa fa-check"></i><b>3.4.2</b> Can we add a smooth curve to show the relationship in each plot?</a></li>
<li class="chapter" data-level="3.4.3" data-path="dataviz.html"><a href="dataviz.html#what-if-we-want-to-assume-straight-line-relationships"><i class="fa fa-check"></i><b>3.4.3</b> What if we want to assume straight line relationships?</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="dataviz.html"><a href="dataviz.html#a-new-subset-ages-21-79"><i class="fa fa-check"></i><b>3.5</b> A New Subset: Ages 21-79</a></li>
<li class="chapter" data-level="3.6" data-path="dataviz.html"><a href="dataviz.html#distribution-of-heights"><i class="fa fa-check"></i><b>3.6</b> Distribution of Heights</a><ul>
<li class="chapter" data-level="3.6.1" data-path="dataviz.html"><a href="dataviz.html#changing-a-histograms-fill-and-color"><i class="fa fa-check"></i><b>3.6.1</b> Changing a Histogram’s Fill and Color</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="dataviz.html"><a href="dataviz.html#height-and-sex"><i class="fa fa-check"></i><b>3.7</b> Height and Sex</a><ul>
<li class="chapter" data-level="3.7.1" data-path="dataviz.html"><a href="dataviz.html#a-boxplot-of-height-by-sex"><i class="fa fa-check"></i><b>3.7.1</b> A Boxplot of Height by Sex</a></li>
<li class="chapter" data-level="3.7.2" data-path="dataviz.html"><a href="dataviz.html#histograms-of-height-by-sex"><i class="fa fa-check"></i><b>3.7.2</b> Histograms of Height by Sex</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="dataviz.html"><a href="dataviz.html#looking-at-pulse-rate"><i class="fa fa-check"></i><b>3.8</b> Looking at Pulse Rate</a><ul>
<li class="chapter" data-level="3.8.1" data-path="dataviz.html"><a href="dataviz.html#pulse-rate-and-physical-activity"><i class="fa fa-check"></i><b>3.8.1</b> Pulse Rate and Physical Activity</a></li>
<li class="chapter" data-level="3.8.2" data-path="dataviz.html"><a href="dataviz.html#pulse-by-sleeping-trouble"><i class="fa fa-check"></i><b>3.8.2</b> Pulse by Sleeping Trouble</a></li>
<li class="chapter" data-level="3.8.3" data-path="dataviz.html"><a href="dataviz.html#pulse-and-healthgen"><i class="fa fa-check"></i><b>3.8.3</b> Pulse and HealthGen</a></li>
<li class="chapter" data-level="3.8.4" data-path="dataviz.html"><a href="dataviz.html#pulse-rate-and-systolic-blood-pressure"><i class="fa fa-check"></i><b>3.8.4</b> Pulse Rate and Systolic Blood Pressure</a></li>
<li class="chapter" data-level="3.8.5" data-path="dataviz.html"><a href="dataviz.html#sleep-troubls-vs.-no-sleep-trouble"><i class="fa fa-check"></i><b>3.8.5</b> Sleep Troubls vs. No Sleep Trouble?</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="dataviz.html"><a href="dataviz.html#general-health-status"><i class="fa fa-check"></i><b>3.9</b> General Health Status</a><ul>
<li class="chapter" data-level="3.9.1" data-path="dataviz.html"><a href="dataviz.html#bar-chart-for-categorical-data"><i class="fa fa-check"></i><b>3.9.1</b> Bar Chart for Categorical Data</a></li>
<li class="chapter" data-level="3.9.2" data-path="dataviz.html"><a href="dataviz.html#working-with-tables"><i class="fa fa-check"></i><b>3.9.2</b> Working with Tables</a></li>
<li class="chapter" data-level="3.9.3" data-path="dataviz.html"><a href="dataviz.html#sbp-by-general-health-status"><i class="fa fa-check"></i><b>3.9.3</b> SBP by General Health Status</a></li>
<li class="chapter" data-level="3.9.4" data-path="dataviz.html"><a href="dataviz.html#sbp-by-physical-activity-and-general-health-status"><i class="fa fa-check"></i><b>3.9.4</b> SBP by Physical Activity and General Health Status</a></li>
<li class="chapter" data-level="3.9.5" data-path="dataviz.html"><a href="dataviz.html#sbp-by-sleep-trouble-and-general-health-status"><i class="fa fa-check"></i><b>3.9.5</b> SBP by Sleep Trouble and General Health Status</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="dataviz.html"><a href="dataviz.html#conclusions"><i class="fa fa-check"></i><b>3.10</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html"><i class="fa fa-check"></i><b>4</b> Data Structures and Types of Variables</a><ul>
<li class="chapter" data-level="4.1" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#data-require-structure-and-context"><i class="fa fa-check"></i><b>4.1</b> Data require structure and context</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#createnh_adults"><i class="fa fa-check"></i><b>4.2</b> A New NHANES Adult Sample</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#summarizing-the-datas-structure"><i class="fa fa-check"></i><b>4.2.1</b> Summarizing the Data’s Structure</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#what-are-the-variables"><i class="fa fa-check"></i><b>4.2.2</b> What are the variables?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#types-of-variables"><i class="fa fa-check"></i><b>4.3</b> Types of Variables</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#quantitative-variables"><i class="fa fa-check"></i><b>4.3.1</b> Quantitative Variables</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#qualitative-categorical-variables"><i class="fa fa-check"></i><b>4.3.2</b> Qualitative (Categorical) Variables</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#creating-a-data-report-quickly"><i class="fa fa-check"></i><b>4.4</b> Creating a Data Report Quickly</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html"><i class="fa fa-check"></i><b>5</b> Summarizing Quantitative Variables</a><ul>
<li class="chapter" data-level="5.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-summary-function-for-quantitative-data"><i class="fa fa-check"></i><b>5.1</b> The <code>summary</code> function for Quantitative data</a></li>
<li class="chapter" data-level="5.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#measuring-the-center-of-a-distribution"><i class="fa fa-check"></i><b>5.2</b> Measuring the Center of a Distribution</a><ul>
<li class="chapter" data-level="5.2.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-mean-and-the-median"><i class="fa fa-check"></i><b>5.2.1</b> The Mean and The Median</a></li>
<li class="chapter" data-level="5.2.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#dealing-with-missingness"><i class="fa fa-check"></i><b>5.2.2</b> Dealing with Missingness</a></li>
<li class="chapter" data-level="5.2.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-mode-of-a-quantitative-variable"><i class="fa fa-check"></i><b>5.2.3</b> The Mode of a Quantitative Variable</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#measuring-the-spread-of-a-distribution"><i class="fa fa-check"></i><b>5.3</b> Measuring the Spread of a Distribution</a><ul>
<li class="chapter" data-level="5.3.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#rangeandiqr"><i class="fa fa-check"></i><b>5.3.1</b> The Range and the Interquartile Range (IQR)</a></li>
<li class="chapter" data-level="5.3.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-variance-and-the-standard-deviation"><i class="fa fa-check"></i><b>5.3.2</b> The Variance and the Standard Deviation</a></li>
<li class="chapter" data-level="5.3.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#obtaining-the-variance-and-standard-deviation-in-r"><i class="fa fa-check"></i><b>5.3.3</b> Obtaining the Variance and Standard Deviation in R</a></li>
<li class="chapter" data-level="5.3.4" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#defining-the-variance-and-standard-deviation"><i class="fa fa-check"></i><b>5.3.4</b> Defining the Variance and Standard Deviation</a></li>
<li class="chapter" data-level="5.3.5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#empirical-rule-interpretation-of-the-standard-deviation"><i class="fa fa-check"></i><b>5.3.5</b> Empirical Rule Interpretation of the Standard Deviation</a></li>
<li class="chapter" data-level="5.3.6" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#chebyshevs-inequality-one-interpretation-of-the-standard-deviation"><i class="fa fa-check"></i><b>5.3.6</b> Chebyshev’s Inequality: One Interpretation of the Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#measuring-the-shape-of-a-distribution"><i class="fa fa-check"></i><b>5.4</b> Measuring the Shape of a Distribution</a><ul>
<li class="chapter" data-level="5.4.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#multimodal-vs.-unimodal-distributions"><i class="fa fa-check"></i><b>5.4.1</b> Multimodal vs. Unimodal distributions</a></li>
<li class="chapter" data-level="5.4.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#skew"><i class="fa fa-check"></i><b>5.4.2</b> Skew</a></li>
<li class="chapter" data-level="5.4.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#kurtosis"><i class="fa fa-check"></i><b>5.4.3</b> Kurtosis</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#more-detailed-numerical-summaries-for-quantitative-variables"><i class="fa fa-check"></i><b>5.5</b> More Detailed Numerical Summaries for Quantitative Variables</a><ul>
<li class="chapter" data-level="5.5.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#favstats-in-the-mosaic-package"><i class="fa fa-check"></i><b>5.5.1</b> <code>favstats</code> in the <code>mosaic</code> package</a></li>
<li class="chapter" data-level="5.5.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#skim-in-the-skimr-package"><i class="fa fa-check"></i><b>5.5.2</b> <code>skim</code> in the <code>skimr</code> package</a></li>
<li class="chapter" data-level="5.5.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#describe-in-the-psych-package"><i class="fa fa-check"></i><b>5.5.3</b> <code>describe</code> in the <code>psych</code> package</a></li>
<li class="chapter" data-level="5.5.4" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#describe-in-the-hmisc-package"><i class="fa fa-check"></i><b>5.5.4</b> <code>describe</code> in the <code>Hmisc</code> package</a></li>
<li class="chapter" data-level="5.5.5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#other-options"><i class="fa fa-check"></i><b>5.5.5</b> Other options</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html"><i class="fa fa-check"></i><b>6</b> Summarizing Categorical Variables</a><ul>
<li class="chapter" data-level="6.1" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#the-summary-function-for-categorical-data"><i class="fa fa-check"></i><b>6.1</b> The <code>summary</code> function for Categorical data</a></li>
<li class="chapter" data-level="6.2" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#tables-to-describe-one-categorical-variable"><i class="fa fa-check"></i><b>6.2</b> Tables to describe One Categorical Variable</a></li>
<li class="chapter" data-level="6.3" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#the-mode-of-a-categorical-variable"><i class="fa fa-check"></i><b>6.3</b> The Mode of a Categorical Variable</a></li>
<li class="chapter" data-level="6.4" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#describe-in-the-hmisc-package-1"><i class="fa fa-check"></i><b>6.4</b> <code>describe</code> in the <code>Hmisc</code> package</a></li>
<li class="chapter" data-level="6.5" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#cross-tabulations"><i class="fa fa-check"></i><b>6.5</b> Cross-Tabulations</a><ul>
<li class="chapter" data-level="6.5.1" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#cross-classifying-three-categorical-variables"><i class="fa fa-check"></i><b>6.5.1</b> Cross-Classifying Three Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#constructing-tables-well"><i class="fa fa-check"></i><b>6.6</b> Constructing Tables Well</a><ul>
<li class="chapter" data-level="6.6.1" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#alabama-first"><i class="fa fa-check"></i><b>6.6.1</b> Alabama First!</a></li>
<li class="chapter" data-level="6.6.2" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#order-rows-and-columns-sensibly"><i class="fa fa-check"></i><b>6.6.2</b> Order rows and columns sensibly</a></li>
<li class="chapter" data-level="6.6.3" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#round---a-lot"><i class="fa fa-check"></i><b>6.6.3</b> Round - a lot!</a></li>
<li class="chapter" data-level="6.6.4" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#all-is-different-and-important"><i class="fa fa-check"></i><b>6.6.4</b> ALL is different and important</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="NYFS-Study.html"><a href="NYFS-Study.html"><i class="fa fa-check"></i><b>7</b> NHANES National Youth Fitness Survey (<code>nnyfs</code>)</a><ul>
<li class="chapter" data-level="7.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-variables-included-in-nnyfs"><i class="fa fa-check"></i><b>7.1</b> The Variables included in <code>nnyfs</code></a><ul>
<li class="chapter" data-level="7.1.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-demographic-component"><i class="fa fa-check"></i><b>7.1.1</b> From the <span>NNYFS Demographic Component</span></a></li>
<li class="chapter" data-level="7.1.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-dietary-component"><i class="fa fa-check"></i><b>7.1.2</b> From the <span>NNYFS Dietary Component</span></a></li>
<li class="chapter" data-level="7.1.3" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-examination-component"><i class="fa fa-check"></i><b>7.1.3</b> From the <span>NNYFS Examination Component</span></a></li>
<li class="chapter" data-level="7.1.4" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-questionnaire-component"><i class="fa fa-check"></i><b>7.1.4</b> From the <span>NNYFS Questionnaire Component</span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#looking-over-the-data-set"><i class="fa fa-check"></i><b>7.2</b> Looking over the Data Set</a><ul>
<li class="chapter" data-level="7.2.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#seqn"><i class="fa fa-check"></i><b>7.2.1</b> <code>SEQN</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#sex"><i class="fa fa-check"></i><b>7.2.2</b> <code>sex</code></a></li>
<li class="chapter" data-level="7.2.3" data-path="NYFS-Study.html"><a href="NYFS-Study.html#age_child"><i class="fa fa-check"></i><b>7.2.3</b> <code>age_child</code></a></li>
<li class="chapter" data-level="7.2.4" data-path="NYFS-Study.html"><a href="NYFS-Study.html#race_eth"><i class="fa fa-check"></i><b>7.2.4</b> <code>race_eth</code></a></li>
<li class="chapter" data-level="7.2.5" data-path="NYFS-Study.html"><a href="NYFS-Study.html#income_pov"><i class="fa fa-check"></i><b>7.2.5</b> <code>income_pov</code></a></li>
<li class="chapter" data-level="7.2.6" data-path="NYFS-Study.html"><a href="NYFS-Study.html#bmi"><i class="fa fa-check"></i><b>7.2.6</b> <code>bmi</code></a></li>
<li class="chapter" data-level="7.2.7" data-path="NYFS-Study.html"><a href="NYFS-Study.html#bmi_cat"><i class="fa fa-check"></i><b>7.2.7</b> <code>bmi_cat</code></a></li>
<li class="chapter" data-level="7.2.8" data-path="NYFS-Study.html"><a href="NYFS-Study.html#waist"><i class="fa fa-check"></i><b>7.2.8</b> <code>waist</code></a></li>
<li class="chapter" data-level="7.2.9" data-path="NYFS-Study.html"><a href="NYFS-Study.html#triceps_skinfold"><i class="fa fa-check"></i><b>7.2.9</b> <code>triceps_skinfold</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="NYFS-Study.html"><a href="NYFS-Study.html#basic-numerical-summaries"><i class="fa fa-check"></i><b>7.3</b> Basic Numerical Summaries</a><ul>
<li class="chapter" data-level="7.3.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-five-number-summary-quantiles-and-iqr"><i class="fa fa-check"></i><b>7.3.1</b> The Five Number Summary, Quantiles and IQR</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="NYFS-Study.html"><a href="NYFS-Study.html#additional-summaries-from-favstats"><i class="fa fa-check"></i><b>7.4</b> Additional Summaries from <code>favstats</code></a></li>
<li class="chapter" data-level="7.5" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-histogram"><i class="fa fa-check"></i><b>7.5</b> The Histogram</a><ul>
<li class="chapter" data-level="7.5.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#freedman-diaconis-rule-to-select-bin-width"><i class="fa fa-check"></i><b>7.5.1</b> Freedman-Diaconis Rule to select bin width</a></li>
<li class="chapter" data-level="7.5.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#a-note-on-colors"><i class="fa fa-check"></i><b>7.5.2</b> A Note on Colors</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-stem-and-leaf"><i class="fa fa-check"></i><b>7.6</b> The Stem-and-Leaf</a><ul>
<li class="chapter" data-level="7.6.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#a-fancier-stem-and-leaf-display"><i class="fa fa-check"></i><b>7.6.1</b> A Fancier Stem-and-Leaf Display</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-dot-plot-to-display-a-distribution"><i class="fa fa-check"></i><b>7.7</b> The Dot Plot to display a distribution</a></li>
<li class="chapter" data-level="7.8" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-frequency-polygon"><i class="fa fa-check"></i><b>7.8</b> The Frequency Polygon</a></li>
<li class="chapter" data-level="7.9" data-path="NYFS-Study.html"><a href="NYFS-Study.html#plotting-the-probability-density-function"><i class="fa fa-check"></i><b>7.9</b> Plotting the Probability Density Function</a></li>
<li class="chapter" data-level="7.10" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-boxplot"><i class="fa fa-check"></i><b>7.10</b> The Boxplot</a><ul>
<li class="chapter" data-level="7.10.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#drawing-a-boxplot-for-one-variable-in-ggplot2"><i class="fa fa-check"></i><b>7.10.1</b> Drawing a Boxplot for One Variable in <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.10.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#about-the-boxplot"><i class="fa fa-check"></i><b>7.10.2</b> About the Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="NYFS-Study.html"><a href="NYFS-Study.html#a-simple-comparison-boxplot"><i class="fa fa-check"></i><b>7.11</b> A Simple Comparison Boxplot</a></li>
<li class="chapter" data-level="7.12" data-path="NYFS-Study.html"><a href="NYFS-Study.html#using-describe-in-the-psych-library"><i class="fa fa-check"></i><b>7.12</b> Using <code>describe</code> in the <code>psych</code> library</a><ul>
<li class="chapter" data-level="7.12.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-trimmed-mean"><i class="fa fa-check"></i><b>7.12.1</b> The Trimmed Mean</a></li>
<li class="chapter" data-level="7.12.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-median-absolute-deviation"><i class="fa fa-check"></i><b>7.12.2</b> The Median Absolute Deviation</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="NYFS-Study.html"><a href="NYFS-Study.html#assessing-skew"><i class="fa fa-check"></i><b>7.13</b> Assessing Skew</a><ul>
<li class="chapter" data-level="7.13.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#non-parametric-skew-via-skew1"><i class="fa fa-check"></i><b>7.13.1</b> Non-parametric Skew via skew<sub>1</sub></a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="NYFS-Study.html"><a href="NYFS-Study.html#assessing-kurtosis-heavy-tailedness"><i class="fa fa-check"></i><b>7.14</b> Assessing Kurtosis (Heavy-Tailedness)</a><ul>
<li class="chapter" data-level="7.14.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-standard-error-of-the-sample-mean"><i class="fa fa-check"></i><b>7.14.1</b> The Standard Error of the Sample Mean</a></li>
</ul></li>
<li class="chapter" data-level="7.15" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-describe-function-in-the-hmisc-library"><i class="fa fa-check"></i><b>7.15</b> The <code>describe</code> function in the <code>Hmisc</code> library</a></li>
<li class="chapter" data-level="7.16" data-path="NYFS-Study.html"><a href="NYFS-Study.html#xda-from-github-for-numerical-summaries-for-exploratory-data-analysis"><i class="fa fa-check"></i><b>7.16</b> <code>xda</code> from GitHub for numerical summaries for exploratory data analysis</a></li>
<li class="chapter" data-level="7.17" data-path="NYFS-Study.html"><a href="NYFS-Study.html#what-summaries-to-report"><i class="fa fa-check"></i><b>7.17</b> What Summaries to Report</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="assessing-normality.html"><a href="assessing-normality.html"><i class="fa fa-check"></i><b>8</b> Assessing Normality</a><ul>
<li class="chapter" data-level="8.1" data-path="assessing-normality.html"><a href="assessing-normality.html#empirical-rule-interpretation-of-the-standard-deviation-1"><i class="fa fa-check"></i><b>8.1</b> Empirical Rule Interpretation of the Standard Deviation</a></li>
<li class="chapter" data-level="8.2" data-path="assessing-normality.html"><a href="assessing-normality.html#describing-outlying-values-with-z-scores"><i class="fa fa-check"></i><b>8.2</b> Describing Outlying Values with Z Scores</a><ul>
<li class="chapter" data-level="8.2.1" data-path="assessing-normality.html"><a href="assessing-normality.html#fences-and-z-scores"><i class="fa fa-check"></i><b>8.2.1</b> Fences and Z Scores</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="assessing-normality.html"><a href="assessing-normality.html#comparing-a-histogram-to-a-normal-distribution"><i class="fa fa-check"></i><b>8.3</b> Comparing a Histogram to a Normal Distribution</a><ul>
<li class="chapter" data-level="8.3.1" data-path="assessing-normality.html"><a href="assessing-normality.html#histogram-of-energy-with-normal-model-with-counts"><i class="fa fa-check"></i><b>8.3.1</b> Histogram of <code>energy</code> with Normal model (with Counts)</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="assessing-normality.html"><a href="assessing-normality.html#does-a-normal-model-work-well-for-the-waist-circumference"><i class="fa fa-check"></i><b>8.4</b> Does a Normal model work well for the <code>waist</code> circumference?</a></li>
<li class="chapter" data-level="8.5" data-path="assessing-normality.html"><a href="assessing-normality.html#the-normal-q-q-plot"><i class="fa fa-check"></i><b>8.5</b> The Normal Q-Q Plot</a></li>
<li class="chapter" data-level="8.6" data-path="assessing-normality.html"><a href="assessing-normality.html#interpreting-the-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6</b> Interpreting the Normal Q-Q Plot</a><ul>
<li class="chapter" data-level="8.6.1" data-path="assessing-normality.html"><a href="assessing-normality.html#data-from-a-normal-distribution-shows-up-as-a-straight-line-in-a-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6.1</b> Data from a Normal distribution shows up as a straight line in a Normal Q-Q plot</a></li>
<li class="chapter" data-level="8.6.2" data-path="assessing-normality.html"><a href="assessing-normality.html#skew-is-indicated-by-monotonic-curves-in-the-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6.2</b> Skew is indicated by monotonic curves in the Normal Q-Q plot</a></li>
<li class="chapter" data-level="8.6.3" data-path="assessing-normality.html"><a href="assessing-normality.html#direction-of-skew"><i class="fa fa-check"></i><b>8.6.3</b> Direction of Skew</a></li>
<li class="chapter" data-level="8.6.4" data-path="assessing-normality.html"><a href="assessing-normality.html#outlier-proneness-is-indicated-by-s-shaped-curves-in-a-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6.4</b> Outlier-proneness is indicated by “s-shaped” curves in a Normal Q-Q plot</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="assessing-normality.html"><a href="assessing-normality.html#can-a-normal-distribution-fit-the-nnyfs-energy-data-well"><i class="fa fa-check"></i><b>8.7</b> Can a Normal Distribution Fit the <code>nnyfs</code> <code>energy</code> data Well?</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html"><i class="fa fa-check"></i><b>9</b> Using Transformations to “Normalize” Distributions</a><ul>
<li class="chapter" data-level="9.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#the-ladder-of-power-transformations"><i class="fa fa-check"></i><b>9.1</b> The Ladder of Power Transformations</a></li>
<li class="chapter" data-level="9.2" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#using-the-ladder"><i class="fa fa-check"></i><b>9.2</b> Using the Ladder</a></li>
<li class="chapter" data-level="9.3" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#protein-consumption-in-the-nnyfs-data"><i class="fa fa-check"></i><b>9.3</b> Protein Consumption in the NNYFS data</a><ul>
<li class="chapter" data-level="9.3.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#using-cowplotplot_grid-to-compose-plots"><i class="fa fa-check"></i><b>9.3.1</b> Using <code>cowplot::plot_grid()</code> to compose plots</a></li>
<li class="chapter" data-level="9.3.2" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#using-patchwork-to-compose-plots"><i class="fa fa-check"></i><b>9.3.2</b> Using <code>patchwork</code> to compose plots</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#can-we-transform-the-protein-data"><i class="fa fa-check"></i><b>9.4</b> Can we transform the <code>protein</code> data?</a><ul>
<li class="chapter" data-level="9.4.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#the-square-root"><i class="fa fa-check"></i><b>9.4.1</b> The Square Root</a></li>
<li class="chapter" data-level="9.4.2" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#the-logarithm"><i class="fa fa-check"></i><b>9.4.2</b> The Logarithm</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#what-if-we-considered-all-9-available-transformations"><i class="fa fa-check"></i><b>9.5</b> What if we considered all 9 available transformations?</a></li>
<li class="chapter" data-level="9.6" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#a-simulated-data-set"><i class="fa fa-check"></i><b>9.6</b> A Simulated Data Set</a><ul>
<li class="chapter" data-level="9.6.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#transformation-example-2-ladder-with-normal-q-q-plots"><i class="fa fa-check"></i><b>9.6.1</b> Transformation Example 2 Ladder with Normal Q-Q Plots</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#what-if-we-considered-all-9-available-transformations-1"><i class="fa fa-check"></i><b>9.7</b> What if we considered all 9 available transformations?</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html"><i class="fa fa-check"></i><b>10</b> Summarizing data within subgroups</a><ul>
<li class="chapter" data-level="10.1" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#using-dplyr-and-summarise-to-build-a-tibble-of-summary-information"><i class="fa fa-check"></i><b>10.1</b> Using dplyr and summarise to build a tibble of summary information</a></li>
<li class="chapter" data-level="10.2" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#another-example"><i class="fa fa-check"></i><b>10.2</b> Another Example</a></li>
<li class="chapter" data-level="10.3" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#boxplots-to-relate-an-outcome-to-a-categorical-predictor"><i class="fa fa-check"></i><b>10.3</b> Boxplots to Relate an Outcome to a Categorical Predictor</a><ul>
<li class="chapter" data-level="10.3.1" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#augmenting-the-boxplot-with-the-sample-mean"><i class="fa fa-check"></i><b>10.3.1</b> Augmenting the Boxplot with the Sample Mean</a></li>
<li class="chapter" data-level="10.3.2" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#adding-notches-to-a-boxplot"><i class="fa fa-check"></i><b>10.3.2</b> Adding Notches to a Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#using-multiple-histograms-to-make-comparisons"><i class="fa fa-check"></i><b>10.4</b> Using Multiple Histograms to Make Comparisons</a></li>
<li class="chapter" data-level="10.5" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#using-multiple-density-plots-to-make-comparisons"><i class="fa fa-check"></i><b>10.5</b> Using Multiple Density Plots to Make Comparisons</a></li>
<li class="chapter" data-level="10.6" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#building-a-violin-plot"><i class="fa fa-check"></i><b>10.6</b> Building a Violin Plot</a></li>
<li class="chapter" data-level="10.7" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#a-ridgeline-plot"><i class="fa fa-check"></i><b>10.7</b> A Ridgeline Plot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="this-is-work-in-progress.html"><a href="this-is-work-in-progress.html"><i class="fa fa-check"></i>This is Work in Progress</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Biological, Medical and Health Research: Notes for PQHS 431</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="NYFS-Study" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> NHANES National Youth Fitness Survey (<code>nnyfs</code>)</h1>
<p>The <code>nnyfs.csv</code> and the <code>nnyfs.Rds</code> data files were built by Professor Love using data from the <a href="http://www.cdc.gov/Nchs/Nnyfs.htm">2012 National Youth Fitness Survey</a>.</p>
<blockquote>
<p>The NHANES National Youth Fitness Survey (NNYFS) was conducted in 2012 to collect data on physical activity and fitness levels in order to provide an evaluation of the health and fitness of children in the U.S. ages 3 to 15. The NNYFS collected data on physical activity and fitness levels of our youth through interviews and fitness tests.</p>
</blockquote>
<p>In the <code>nnyfs</code> data file (either <code>.csv</code> or <code>.Rds</code>), I’m only providing a modest fraction of the available information. More on the NNYFS (including information I’m not using) is available at <a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfs12.aspx" class="uri">https://wwwn.cdc.gov/nchs/nhanes/search/nnyfs12.aspx</a>.</p>
<p>The data elements I’m using fall into four main groups, or components:</p>
<ul>
<li><a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Demographics">Demographics</a></li>
<li><a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Dietary">Dietary</a></li>
<li><a href="http://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Examination">Examination</a> and</li>
<li><a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Questionnaire">Questionnaire</a></li>
</ul>
<p>What I did was merge a few elements from each of the available components of the NHANES National Youth Fitness Survey, reformulated (and in some cases simplified) some variables, and restricted the sample to kids who had completed elements of each of the four components.</p>
<div id="the-variables-included-in-nnyfs" class="section level2">
<h2><span class="header-section-number">7.1</span> The Variables included in <code>nnyfs</code></h2>
<p>This section tells you where the data come from, and briefly describe what is collected.</p>
<div id="from-the-nnyfs-demographic-component" class="section level3">
<h3><span class="header-section-number">7.1.1</span> From the <a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Demographics">NNYFS Demographic Component</a></h3>
<p>All of these come from the <code>Y_DEMO</code> file.</p>
<table>
<colgroup>
<col width="21%" />
<col width="17%" />
<col width="60%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_DEMO</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>SEQN</code></td>
<td align="right"><code>SEQN</code></td>
<td align="left">Subject ID, connects all of the files</td>
</tr>
<tr class="even">
<td align="right"><code>sex</code></td>
<td align="right"><code>RIAGENDR</code></td>
<td align="left">Really, this is sex, not gender</td>
</tr>
<tr class="odd">
<td align="right"><code>age_child</code></td>
<td align="right"><code>RIDAGEYR</code></td>
<td align="left">Age in years at screening</td>
</tr>
<tr class="even">
<td align="right"><code>race_eth</code></td>
<td align="right"><code>RIDRETH1</code></td>
<td align="left">Race/Hispanic origin (collapsed to 4 levels)</td>
</tr>
<tr class="odd">
<td align="right"><code>educ_child</code></td>
<td align="right"><code>DMDEDUC3</code></td>
<td align="left">Education Level (for children ages 6-15). 0 = Kindergarten, 9 = Ninth grade or higher</td>
</tr>
<tr class="even">
<td align="right"><code>language</code></td>
<td align="right"><code>SIALANG</code></td>
<td align="left">Language in which the interview was conducted</td>
</tr>
<tr class="odd">
<td align="right"><code>sampling_wt</code></td>
<td align="right"><code>WTMEC</code></td>
<td align="left">Full-sample MEC exam weight (for inference)</td>
</tr>
<tr class="even">
<td align="right"><code>income_pov</code></td>
<td align="right"><code>INDFMPIR</code></td>
<td align="left">Ratio of family income to poverty (ceiling is 5.0)</td>
</tr>
<tr class="odd">
<td align="right"><code>age_adult</code></td>
<td align="right"><code>DMDHRAGE</code></td>
<td align="left">Age of adult who brought child to interview</td>
</tr>
<tr class="even">
<td align="right"><code>educ_adult</code></td>
<td align="right"><code>DMDHREDU</code></td>
<td align="left">Education level of adult who brought child</td>
</tr>
</tbody>
</table>
</div>
<div id="from-the-nnyfs-dietary-component" class="section level3">
<h3><span class="header-section-number">7.1.2</span> From the <a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Dietary">NNYFS Dietary Component</a></h3>
<p>From the <code>Y_DR1TOT</code> file, we have a number of variables related to the child’s diet, with the following summaries mostly describing consumption “yesterday” in a dietary recall questionnaire.</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_DR1TOT</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>respondent</code></td>
<td align="right"><code>DR1MNRSP</code></td>
<td align="left">who responded to interview (child, Mom, someone else)</td>
</tr>
<tr class="even">
<td align="right"><code>salt_used</code></td>
<td align="right"><code>DBQ095Z</code></td>
<td align="left">uses salt, lite salt or salt substitute at the table</td>
</tr>
<tr class="odd">
<td align="right"><code>energy</code></td>
<td align="right"><code>DR1TKCAL</code></td>
<td align="left">energy consumed (kcal)</td>
</tr>
<tr class="even">
<td align="right"><code>protein</code></td>
<td align="right"><code>DR1TPROT</code></td>
<td align="left">protein consumed (g)</td>
</tr>
<tr class="odd">
<td align="right"><code>sugar</code></td>
<td align="right"><code>DR1TSUGR</code></td>
<td align="left">total sugar consumed (g)</td>
</tr>
<tr class="even">
<td align="right"><code>fat</code></td>
<td align="right"><code>DR1TTFAT</code></td>
<td align="left">total fat consumed (g)</td>
</tr>
<tr class="odd">
<td align="right"><code>diet_yesterday</code></td>
<td align="right"><code>DR1_300</code></td>
<td align="left">compare food consumed yesterday to usual amount</td>
</tr>
<tr class="even">
<td align="right"><code>water</code></td>
<td align="right"><code>DR1_320Z</code></td>
<td align="left">total plain water drank (g)</td>
</tr>
</tbody>
</table>
</div>
<div id="from-the-nnyfs-examination-component" class="section level3">
<h3><span class="header-section-number">7.1.3</span> From the <a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Examination">NNYFS Examination Component</a></h3>
<p>From the <code>Y_BMX</code> file of Body Measures:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_BMX</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>height</code></td>
<td align="right">BMXHT</td>
<td align="left">standing height (cm)</td>
</tr>
<tr class="even">
<td align="right"><code>weight</code></td>
<td align="right">BMXWT</td>
<td align="left">weight (kg)</td>
</tr>
<tr class="odd">
<td align="right"><code>bmi</code></td>
<td align="right">BMXBMI</td>
<td align="left">body mass index (<span class="math inline">\(kg/m^2\)</span>)</td>
</tr>
<tr class="even">
<td align="right"><code>bmi_cat</code></td>
<td align="right">BMDBMIC</td>
<td align="left">BMI category (4 levels)</td>
</tr>
<tr class="odd">
<td align="right"><code>arm_length</code></td>
<td align="right">BMXARML</td>
<td align="left">Upper arm length (cm)</td>
</tr>
<tr class="even">
<td align="right"><code>waist</code></td>
<td align="right">BMXWAIST</td>
<td align="left">Waist circumference (cm)</td>
</tr>
<tr class="odd">
<td align="right"><code>arm_circ</code></td>
<td align="right">BMXARMC</td>
<td align="left">Arm circumference (cm)</td>
</tr>
<tr class="even">
<td align="right"><code>calf_circ</code></td>
<td align="right">BMXCALF</td>
<td align="left">Maximal calf circumference (cm)</td>
</tr>
<tr class="odd">
<td align="right"><code>calf_skinfold</code></td>
<td align="right">BMXCALFF</td>
<td align="left">Calf skinfold (mm)</td>
</tr>
<tr class="even">
<td align="right"><code>triceps_skinfold</code></td>
<td align="right">BMXTRI</td>
<td align="left">Triceps skinfold (mm)</td>
</tr>
<tr class="odd">
<td align="right"><code>subscapular_skinfold</code></td>
<td align="right">BMXSUB</td>
<td align="left">Subscapular skinfold (mm)</td>
</tr>
</tbody>
</table>
<p>From the <code>Y_PLX</code> file of Plank test results:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_PLX</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>plank_time</code></td>
<td align="right">MPXPLANK</td>
<td align="left"># of seconds plank position is held</td>
</tr>
</tbody>
</table>
</div>
<div id="from-the-nnyfs-questionnaire-component" class="section level3">
<h3><span class="header-section-number">7.1.4</span> From the <a href="https://wwwn.cdc.gov/nchs/nhanes/search/nnyfsdata.aspx?Component=Questionnaire">NNYFS Questionnaire Component</a></h3>
<p>From the <code>Y_PAQ</code> file of Physical Activity questions:</p>
<table>
<colgroup>
<col width="22%" />
<col width="17%" />
<col width="60%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_PAQ</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>active_days</code></td>
<td align="right">PAQ706</td>
<td align="left">Days physically active (<span class="math inline">\(\geq 60\)</span> min.) in past week</td>
</tr>
<tr class="even">
<td align="right"><code>tv_hours</code></td>
<td align="right">PAQ710</td>
<td align="left">Average hours watching TV/videos past 30d</td>
</tr>
<tr class="odd">
<td align="right"><code>computer_hours</code></td>
<td align="right">PAQ715</td>
<td align="left">Average hours on computer past 30d</td>
</tr>
<tr class="even">
<td align="right"><code>physical_last_week</code></td>
<td align="right">PAQ722</td>
<td align="left">Any physical activity outside of school past week</td>
</tr>
<tr class="odd">
<td align="right"><code>enjoy_recess</code></td>
<td align="right">PAQ750</td>
<td align="left">Enjoy participating in PE/recess</td>
</tr>
</tbody>
</table>
<p>From the <code>Y_DBQ</code> file of Diet Behavior and Nutrition questions:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_DBQ</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>meals_out</code></td>
<td align="right">DBD895</td>
<td align="left"># meals not home-prepared in past 7 days</td>
</tr>
</tbody>
</table>
<p>From the <code>Y_HIQ</code> file of Health Insurance questions:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_HIQ</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>insured</code></td>
<td align="right">HIQ011</td>
<td align="left">Covered by Health Insurance?</td>
</tr>
<tr class="even">
<td align="right"><code>insurance</code></td>
<td align="right">HIQ031</td>
<td align="left">Type of Health Insurance coverage</td>
</tr>
</tbody>
</table>
<p>From the <code>Y_HUQ</code> file of Access to Care questions:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_HUQ</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>phys_health</code></td>
<td align="right">HUQ010</td>
<td align="left">Generall health condition (Excellent - Poor)</td>
</tr>
<tr class="even">
<td align="right"><code>access_to_care</code></td>
<td align="right">HUQ030</td>
<td align="left">Routine place to get care?</td>
</tr>
<tr class="odd">
<td align="right"><code>care_source</code></td>
<td align="right">HUQ040</td>
<td align="left">Type of place most often goes to for care</td>
</tr>
</tbody>
</table>
<p>From the <code>Y_MCQ</code> file of Medical Conditions questions:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_MCQ</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>asthma_ever</code></td>
<td align="right">MCQ010</td>
<td align="left">Ever told you have asthma?</td>
</tr>
<tr class="even">
<td align="right"><code>asthma_now</code></td>
<td align="right">MCQ035</td>
<td align="left">Still have asthma?</td>
</tr>
</tbody>
</table>
<p>From the <code>Y_RXQ_RX</code> file of Prescription Medication questions:</p>
<table>
<thead>
<tr class="header">
<th align="right">In <code>nnyfs</code></th>
<th align="right">In <code>Y_RXQ_RX</code></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>med_use</code></td>
<td align="right">RXDUSE</td>
<td align="left">Taken prescription medication in last month?</td>
</tr>
<tr class="even">
<td align="right"><code>med_count</code></td>
<td align="right">RXDCOUNT</td>
<td align="left"># of prescription meds taken in past month</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="looking-over-the-data-set" class="section level2">
<h2><span class="header-section-number">7.2</span> Looking over the Data Set</h2>
<p>Now, I’ll take a look at the <code>nnyfs</code> data, which I’ve made available in a comma-separated version (<code>nnyfs.csv</code>), if you prefer, as well as in an R data set (<code>nnyfs.Rds</code>) which loads a bit faster. After loading the file, let’s get a handle on its size and contents.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" title="1">nnyfs &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;data/nnyfs.Rds&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>()</a>
<a class="sourceLine" id="cb158-2" title="2"></a>
<a class="sourceLine" id="cb158-3" title="3"><span class="co">## size of the tibble</span></a>
<a class="sourceLine" id="cb158-4" title="4"><span class="kw">dim</span>(nnyfs)</a></code></pre></div>
<pre><code>[1] 1518   45</code></pre>
<p>There are 1518 rows (subjects) and 45 columns (variables), by which I mean that there are 1518 kids in the <code>nnyfs</code> data frame, and we have 45 pieces of information on each subject.
So, what do we have, exactly?</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" title="1">nnyfs <span class="co"># this is a tibble, has some nice features in a print-out like this</span></a></code></pre></div>
<pre><code># A tibble: 1,518 x 45
    SEQN sex   age_child race_eth educ_child language sampling_wt
   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;
 1 71917 Fema~        15 3_Black~          9 English       28299.
 2 71918 Fema~         8 3_Black~          2 English       15127.
 3 71919 Fema~        14 2_White~          8 English       29977.
 4 71920 Fema~        15 2_White~          8 English       80652.
 5 71921 Male          3 2_White~         NA English       55592.
 6 71922 Male         12 1_Hispa~          6 English       27365.
 7 71923 Male         12 2_White~          5 English       86673.
 8 71924 Fema~         8 4_Other~          2 English       39549.
 9 71925 Male          7 1_Hispa~          0 English       42333.
10 71926 Male          8 3_Black~          2 English       15307.
# ... with 1,508 more rows, and 38 more variables: income_pov &lt;dbl&gt;,
#   age_adult &lt;dbl&gt;, educ_adult &lt;chr&gt;, respondent &lt;chr&gt;, salt_used &lt;chr&gt;,
#   energy &lt;dbl&gt;, protein &lt;dbl&gt;, sugar &lt;dbl&gt;, fat &lt;dbl&gt;,
#   diet_yesterday &lt;chr&gt;, water &lt;dbl&gt;, plank_time &lt;dbl&gt;, height &lt;dbl&gt;,
#   weight &lt;dbl&gt;, bmi &lt;dbl&gt;, bmi_cat &lt;chr&gt;, arm_length &lt;dbl&gt;, waist &lt;dbl&gt;,
#   arm_circ &lt;dbl&gt;, calf_circ &lt;dbl&gt;, calf_skinfold &lt;dbl&gt;,
#   triceps_skinfold &lt;dbl&gt;, subscapular_skinfold &lt;dbl&gt;, active_days &lt;dbl&gt;,
#   tv_hours &lt;dbl&gt;, computer_hours &lt;dbl&gt;, physical_last_week &lt;chr&gt;,
#   enjoy_recess &lt;chr&gt;, meals_out &lt;dbl&gt;, insured &lt;chr&gt;, phys_health &lt;chr&gt;,
#   access_to_care &lt;chr&gt;, care_source &lt;chr&gt;, asthma_ever &lt;chr&gt;,
#   asthma_now &lt;chr&gt;, med_use &lt;chr&gt;, med_count &lt;dbl&gt;, insurance &lt;chr&gt;</code></pre>
<p>Tibbles are a modern reimagining of the main way in which people have stored data in R, called a data frame. Tibbles were developed to keep what time has proven to be effective, and throwing out what is not. We can learn something about the structure of the tibble from such functions as <code>str</code> or <code>glimpse</code>.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" title="1"><span class="kw">str</span>(nnyfs)</a></code></pre></div>
<pre><code>Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:   1518 obs. of  45 variables:
 $ SEQN                : num  71917 71918 71919 71920 71921 ...
 $ sex                 : chr  &quot;Female&quot; &quot;Female&quot; &quot;Female&quot; &quot;Female&quot; ...
 $ age_child           : num  15 8 14 15 3 12 12 8 7 8 ...
 $ race_eth            : chr  &quot;3_Black Non-Hispanic&quot; &quot;3_Black Non-Hispanic&quot; &quot;2_White Non-Hispanic&quot; &quot;2_White Non-Hispanic&quot; ...
 $ educ_child          : num  9 2 8 8 NA 6 5 2 0 2 ...
 $ language            : chr  &quot;English&quot; &quot;English&quot; &quot;English&quot; &quot;English&quot; ...
 $ sampling_wt         : num  28299 15127 29977 80652 55592 ...
 $ income_pov          : num  0.21 5 5 0.87 4.34 5 5 2.74 0.46 1.57 ...
 $ age_adult           : num  46 46 42 53 31 42 39 31 45 56 ...
 $ educ_adult          : chr  &quot;2_9-11th Grade&quot; &quot;3_High School Graduate&quot; &quot;5_College Graduate&quot; &quot;3_High School Graduate&quot; ...
 $ respondent          : chr  &quot;Child&quot; &quot;Mom&quot; &quot;Child&quot; &quot;Child&quot; ...
 $ salt_used           : chr  &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; ...
 $ energy              : num  2844 1725 2304 1114 1655 ...
 $ protein             : num  169.1 55.2 199.3 14 50.6 ...
 $ sugar               : num  128.2 118.7 81.4 119.2 90.3 ...
 $ fat                 : num  127.9 63.7 86.1 36 53.3 ...
 $ diet_yesterday      : chr  &quot;2_Usual&quot; &quot;2_Usual&quot; &quot;2_Usual&quot; &quot;2_Usual&quot; ...
 $ water               : num  607 178 503 859 148 ...
 $ plank_time          : num  NA 45 121 45 11 107 127 44 184 58 ...
 $ height              : num  NA 131.6 172 167.1 90.2 ...
 $ weight              : num  NA 38.6 58.7 92.5 12.4 66.4 56.7 22.2 20.9 28.3 ...
 $ bmi                 : num  NA 22.3 19.8 33.1 15.2 25.9 22.5 14.4 15.9 17 ...
 $ bmi_cat             : chr  NA &quot;4_Obese&quot; &quot;2_Normal&quot; &quot;4_Obese&quot; ...
 $ arm_length          : num  NA 27.7 38.4 35.9 18.3 34.2 33 26.5 24.2 26 ...
 $ waist               : num  NA 71.9 79.4 96.4 46.8 90 72.3 56.1 54.5 59.7 ...
 $ arm_circ            : num  NA 25.4 26 37.9 15.1 29.5 27.9 17.6 17.7 19.9 ...
 $ calf_circ           : num  NA 32.3 35.3 46.8 19.4 36.9 36.8 24 24.3 27.3 ...
 $ calf_skinfold       : num  NA 22 18.4 NA 8.4 22 18.3 7 7.2 8.2 ...
 $ triceps_skinfold    : num  NA 19.9 15 20.6 8.6 22.8 20.5 12.9 6.9 8.8 ...
 $ subscapular_skinfold: num  NA 17.4 9.8 22.8 5.7 24.4 12.6 6.8 4.8 6.1 ...
 $ active_days         : num  3 5 3 3 7 2 5 3 7 7 ...
 $ tv_hours            : num  2 2 1 3 2 3 0 4 2 2 ...
 $ computer_hours      : num  1 2 3 3 0 1 0 3 1 1 ...
 $ physical_last_week  : chr  &quot;No&quot; &quot;No&quot; &quot;Yes&quot; &quot;Yes&quot; ...
 $ enjoy_recess        : chr  &quot;1_Strongly Agree&quot; &quot;1_Strongly Agree&quot; &quot;3_Neither Agree nor Disagree&quot; &quot;2_Agree&quot; ...
 $ meals_out           : num  0 2 3 2 1 1 2 1 0 2 ...
 $ insured             : chr  &quot;Has Insurance&quot; &quot;Has Insurance&quot; &quot;Has Insurance&quot; &quot;Has Insurance&quot; ...
 $ phys_health         : chr  &quot;1_Excellent&quot; &quot;3_Good&quot; &quot;1_Excellent&quot; &quot;3_Good&quot; ...
 $ access_to_care      : chr  &quot;Has Usual Care Source&quot; &quot;Has Usual Care Source&quot; &quot;Has Usual Care Source&quot; &quot;Has Usual Care Source&quot; ...
 $ care_source         : chr  &quot;Clinic or Health Center&quot; &quot;Doctor&#39;s Office&quot; &quot;Doctor&#39;s Office&quot; &quot;Doctor&#39;s Office&quot; ...
 $ asthma_ever         : chr  &quot;Never Had Asthma&quot; &quot;History of Asthma&quot; &quot;Never Had Asthma&quot; &quot;History of Asthma&quot; ...
 $ asthma_now          : chr  &quot;No Asthma Now&quot; &quot;Asthma Now&quot; &quot;No Asthma Now&quot; &quot;Asthma Now&quot; ...
 $ med_use             : chr  &quot;No Medications&quot; &quot;Had Medication&quot; &quot;No Medications&quot; &quot;Had Medication&quot; ...
 $ med_count           : num  0 1 0 2 0 0 0 0 0 0 ...
 $ insurance           : chr  &quot;State Sponsored&quot; &quot;State Sponsored&quot; &quot;Private&quot; &quot;State Sponsored&quot; ...</code></pre>
<p>There are a lot of variables here. Let’s run through the first few rather slowly, and then we’ll speed up.</p>
<div id="seqn" class="section level3">
<h3><span class="header-section-number">7.2.1</span> <code>SEQN</code></h3>
<p>The first variable, <code>SEQN</code> is just a (numerical) identifying code attributable to a given subject of the survey. This is <em>nominal</em> data, which will be of little interest down the line. On some occasions, as in this case, the ID numbers are sequential, in the sense that subject 71919 was included in the data base after subject 71918, but this fact isn’t particularly interesting here, because the protocol remained unchanged throughout the study.</p>
</div>
<div id="sex" class="section level3">
<h3><span class="header-section-number">7.2.2</span> <code>sex</code></h3>
<p>The second variable, <code>sex</code>, is listed as a character variable (R uses <strong>factor</strong> and <strong>character</strong> to refer to categorical, especially non-numeric information). Here, as we can see below, we have two levels, <em>Female</em> and <em>Male</em>.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" title="1">nnyfs <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-2" title="2"><span class="st">  </span><span class="kw">tabyl</span>(sex) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-3" title="3"><span class="st">  </span><span class="kw">adorn_totals</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-4" title="4"><span class="st">  </span><span class="kw">adorn_pct_formatting</span>()</a></code></pre></div>
<pre><code>    sex    n percent
 Female  760   50.1%
   Male  758   49.9%
  Total 1518  100.0%</code></pre>
<p>Obviously, we don’t actually need more than a decimal place here for any real purpose.</p>
</div>
<div id="age_child" class="section level3">
<h3><span class="header-section-number">7.2.3</span> <code>age_child</code></h3>
<p>The third variable, <code>age_child</code>, is the age of the child at the time of their screening to be in the study, measured in years. Note that age is a continuous concept, but the measure used here (number of full years alive) is a common discrete approach to measurement. Age, of course, has a meaningful zero point, so this can be thought of as a ratio variable; a child who is 6 is half as old as one who is 12. We can tabulate the observed values, since there are only a dozen or so.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tabyl</span>(age_child) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb166-2" title="2"><span class="st">  </span><span class="kw">adorn_pct_formatting</span>()</a></code></pre></div>
<pre><code> age_child   n percent
         3 110    7.2%
         4 112    7.4%
         5 114    7.5%
         6 129    8.5%
         7 123    8.1%
         8 112    7.4%
         9  99    6.5%
        10 124    8.2%
        11 111    7.3%
        12 137    9.0%
        13 119    7.8%
        14 130    8.6%
        15  98    6.5%</code></pre>
<p>At the time of initial screening, these children should have been between 3 and 15 years of age, so things look reasonable. Since this is a meaningful quantitative variable, we may be interested in a more descriptive summary.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(age_child) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-2" title="2"><span class="st">  </span><span class="kw">summary</span>()</a></code></pre></div>
<pre><code>   age_child     
 Min.   : 3.000  
 1st Qu.: 6.000  
 Median : 9.000  
 Mean   : 9.033  
 3rd Qu.:12.000  
 Max.   :15.000  </code></pre>
<p>These six numbers provide a nice, if incomplete, look at the ages.</p>
<ul>
<li><code>Min.</code> = the minimum, or youngest age at the examination was 3 years old.</li>
<li><code>1st Qu.</code> = the first quartile (25th percentile) of the ages was 6. This means that 25 percent of the subjects were age 6 or less.</li>
<li><code>Median</code> = the second quartile (50th percentile) of the ages was 9. This is often used to describe the center of the data. Half of the subjects were age 9 or less.</li>
<li><code>3rd Qu.</code> = the third quartile (75th percentile) of the ages was 12</li>
<li><code>Max.</code> = the maximum, or oldest age at the examination was 15 years.</li>
</ul>
<p>We could get the standard deviation and a count of missing and non-missing observations with <code>favstats</code> from the <code>mosaic</code> package.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(<span class="op">~</span><span class="st"> </span>age_child, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code> min Q1 median Q3 max     mean       sd    n missing
   3  6      9 12  15 9.032938 3.705574 1518       0</code></pre>
</div>
<div id="race_eth" class="section level3">
<h3><span class="header-section-number">7.2.4</span> <code>race_eth</code></h3>
<p>The fourth variable in the data set is <code>race_eth</code>, which is a multi-categorical variable describing the child’s race and ethnicity.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tabyl</span>(race_eth) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb172-2" title="2"><span class="st">  </span><span class="kw">adorn_pct_formatting</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb172-3" title="3"><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">race_eth</th>
<th align="right">n</th>
<th align="left">percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1_Hispanic</td>
<td align="right">450</td>
<td align="left">29.6%</td>
</tr>
<tr class="even">
<td align="left">2_White Non-Hispanic</td>
<td align="right">610</td>
<td align="left">40.2%</td>
</tr>
<tr class="odd">
<td align="left">3_Black Non-Hispanic</td>
<td align="right">338</td>
<td align="left">22.3%</td>
</tr>
<tr class="even">
<td align="left">4_Other Race/Ethnicity</td>
<td align="right">120</td>
<td align="left">7.9%</td>
</tr>
</tbody>
</table>
<p>And now, we get the idea of looking at whether our numerical summaries of the children’s ages varies by their race/ethnicity…</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(age_child <span class="op">~</span><span class="st"> </span>race_eth, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code>                race_eth min   Q1 median Q3 max     mean       sd   n
1             1_Hispanic   3 5.25    9.0 12  15 8.793333 3.733846 450
2   2_White Non-Hispanic   3 6.00    9.0 12  15 9.137705 3.804421 610
3   3_Black Non-Hispanic   3 6.00    9.0 12  15 9.038462 3.576423 338
4 4_Other Race/Ethnicity   3 7.00    9.5 12  15 9.383333 3.427970 120
  missing
1       0
2       0
3       0
4       0</code></pre>
</div>
<div id="income_pov" class="section level3">
<h3><span class="header-section-number">7.2.5</span> <code>income_pov</code></h3>
<p>Skipping down a bit, let’s look at the family income as a multiple of the poverty level. Here’s the summary.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(income_pov) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summary</span>()</a></code></pre></div>
<pre><code>   income_pov   
 Min.   :0.000  
 1st Qu.:0.870  
 Median :1.740  
 Mean   :2.242  
 3rd Qu.:3.520  
 Max.   :5.000  
 NA&#39;s   :89     </code></pre>
<p>We see there is some missing data here. Let’s ignore that for the moment and concentrate on interpreting the results for the children with actual data. We should start with a picture.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> income_pov)) <span class="op">+</span></a>
<a class="sourceLine" id="cb177-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">30</span>, <span class="dt">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<pre><code>Warning: Removed 89 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="2019-431-book_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>The histogram shows us that the values are truncated at 5, so that children whose actual family income is above 5 times the poverty line are listed as 5. We also see a message reminding us that some of the data are missing for this variable.</p>
<p>Is there a relationship between <code>income_pov</code> and <code>race_eth</code> in these data?</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(income_pov <span class="op">~</span><span class="st"> </span>race_eth, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code>                race_eth min   Q1 median     Q3 max     mean       sd   n
1             1_Hispanic   0 0.56   0.96 1.7400   5 1.336895 1.097235 409
2   2_White Non-Hispanic   0 1.52   2.96 4.5200   5 2.915816 1.617534 588
3   3_Black Non-Hispanic   0 0.78   1.57 2.8200   5 1.970457 1.494911 328
4 4_Other Race/Ethnicity   0 1.17   2.74 4.5775   5 2.845673 1.670373 104
  missing
1      41
2      22
3      10
4      16</code></pre>
<p>This deserves a picture. Let’s try a boxplot.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> race_eth, <span class="dt">y =</span> income_pov)) <span class="op">+</span></a>
<a class="sourceLine" id="cb181-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>()</a></code></pre></div>
<pre><code>Warning: Removed 89 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="2019-431-book_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
<div id="bmi" class="section level3">
<h3><span class="header-section-number">7.2.6</span> <code>bmi</code></h3>
<p>Moving into the body measurement data, <code>bmi</code> is the body-mass index of the child. The BMI is a person’s weight in kilograms divided by his or her height in meters squared. Symbolically, BMI = weight in kg / (height in m)<sup>2</sup>. This is a continuous concept, measured to as many decimal places as you like, and it has a meaningful zero point, so it’s a ratio variable.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(bmi) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summary</span>()</a></code></pre></div>
<pre><code>      bmi       
 Min.   :11.90  
 1st Qu.:15.90  
 Median :18.10  
 Mean   :19.63  
 3rd Qu.:21.90  
 Max.   :48.30  
 NA&#39;s   :4      </code></pre>
<p>Why would a table of these BMI values not be a great idea, for these data? A hint is that R represents this variable as <code>num</code> or numeric in its depiction of the data structure, and this implies that R has some decimal values stored. Here, I’ll use the <code>head()</code> function and the <code>tail()</code> function to show the first few and the last few values of what would prove to be a very long table of <code>bmi</code> values.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tabyl</span>(bmi) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb185-2" title="2"><span class="st">  </span><span class="kw">adorn_pct_formatting</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb185-3" title="3"><span class="st">  </span><span class="kw">head</span>()</a></code></pre></div>
<pre><code>  bmi n percent valid_percent
 11.9 1    0.1%          0.1%
 12.6 1    0.1%          0.1%
 12.7 1    0.1%          0.1%
 12.9 1    0.1%          0.1%
 13.0 2    0.1%          0.1%
 13.1 1    0.1%          0.1%</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tabyl</span>(bmi) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb187-2" title="2"><span class="st">  </span><span class="kw">adorn_pct_formatting</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb187-3" title="3"><span class="st">  </span><span class="kw">tail</span>()</a></code></pre></div>
<pre><code>  bmi n percent valid_percent
 42.8 1    0.1%          0.1%
 43.0 1    0.1%          0.1%
 46.9 1    0.1%          0.1%
 48.2 1    0.1%          0.1%
 48.3 1    0.1%          0.1%
   NA 4    0.3%             -</code></pre>
</div>
<div id="bmi_cat" class="section level3">
<h3><span class="header-section-number">7.2.7</span> <code>bmi_cat</code></h3>
<p>Next I’ll look at the <code>bmi_cat</code> information. This is a four-category ordinal variable, which divides the sample according to BMI into four groups. The BMI categories use sex-specific 2000 BMI-for-age (in months) growth charts prepared by the Centers for Disease Control for the US. We can get the breakdown from a table of the variable’s values.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tabyl</span>(bmi_cat) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">adorn_pct_formatting</span>()</a></code></pre></div>
<pre><code>       bmi_cat   n percent valid_percent
 1_Underweight  41    2.7%          2.7%
      2_Normal 920   60.6%         60.8%
  3_Overweight 258   17.0%         17.0%
       4_Obese 295   19.4%         19.5%
          &lt;NA&gt;   4    0.3%             -</code></pre>
<p>In terms of percentiles by age and sex from the growth charts, the meanings of the categories are:</p>
<ul>
<li>Underweight (BMI &lt; 5th percentile)</li>
<li>Normal weight (BMI 5th to &lt; 85th percentile)</li>
<li>Overweight (BMI 85th to &lt; 95th percentile)</li>
<li>Obese (BMI <span class="math inline">\(\geq\)</span> 95th percentile)</li>
</ul>
<p>Note how I’ve used labels in the <code>bmi_cat</code> variable that include a number at the start so that the table results are sorted in a rational way. R sorts tables alphabetically, in general. We’ll use the <code>forcats</code> package to work with categorical variables that we store as <em>factors</em> eventually, but for now, we’ll keep things relatively simple.</p>
<p>Note that the <code>bmi_cat</code> data don’t completely separate out the raw <code>bmi</code> data, because the calculation of percentiles requires different tables for each combination of <code>age</code> and <code>sex</code>.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(bmi <span class="op">~</span><span class="st"> </span>bmi_cat, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code>        bmi_cat  min   Q1 median     Q3  max     mean       sd   n missing
1 1_Underweight 11.9 13.4   13.7 15.000 16.5 14.10976 1.104492  41       0
2      2_Normal 13.5 15.4   16.5 18.700 24.0 17.16391 2.304162 920       0
3  3_Overweight 16.9 18.3   21.4 23.375 27.9 21.18101 2.918489 258       0
4       4_Obese 17.9 22.3   26.2 30.200 48.3 26.73153 5.721179 295       0</code></pre>
</div>
<div id="waist" class="section level3">
<h3><span class="header-section-number">7.2.8</span> <code>waist</code></h3>
<p>Let’s also look briefly at <code>waist</code>, which is the circumference of the child’s waist, in centimeters. Again, this is a numeric variable, so perhaps we’ll stick to the simple summary, rather than obtaining a table of observed values.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(<span class="op">~</span><span class="st"> </span>waist, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code>  min   Q1 median   Q3   max     mean       sd    n missing
 42.5 55.6   64.8 76.6 144.7 67.70536 15.19809 1512       6</code></pre>
<p>Here’s a histogram of the waist circumference data.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> waist)) <span class="op">+</span></a>
<a class="sourceLine" id="cb195-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">25</span>, <span class="dt">fill =</span> <span class="st">&quot;tomato&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;cyan&quot;</span>)</a></code></pre></div>
<pre><code>Warning: Removed 6 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="2019-431-book_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
<div id="triceps_skinfold" class="section level3">
<h3><span class="header-section-number">7.2.9</span> <code>triceps_skinfold</code></h3>
<p>The last variable I’ll look at for now is <code>triceps_skinfold</code>, which is measured in millimeters. This is one of several common locations used for the assessment of body fat using skinfold calipers, and is a frequent part of growth assessments in children. Again, this is a numeric variable according to R.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(<span class="op">~</span><span class="st"> </span>triceps_skinfold, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code> min  Q1 median Q3  max     mean       sd    n missing
   4 9.1   12.4 18 38.8 14.35725 6.758825 1497      21</code></pre>
<p>And here’s a histogram of the triceps skinfold data, with the fill and color flipped from what we saw in the plot of the waist circumference data a moment ago.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> triceps_skinfold)) <span class="op">+</span></a>
<a class="sourceLine" id="cb199-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">25</span>, <span class="dt">fill =</span> <span class="st">&quot;cyan&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;tomato&quot;</span>)</a></code></pre></div>
<pre><code>Warning: Removed 21 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="2019-431-book_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>OK. We’ve seen a few variables, and we’ll move on now to look more seriously at the data.</p>
</div>
</div>
<div id="basic-numerical-summaries" class="section level2">
<h2><span class="header-section-number">7.3</span> Basic Numerical Summaries</h2>
<div id="the-five-number-summary-quantiles-and-iqr" class="section level3">
<h3><span class="header-section-number">7.3.1</span> The Five Number Summary, Quantiles and IQR</h3>
<p>The <strong>five number summary</strong> is most famous when used to form a box plot - it’s the minimum, 25th percentile, median, 75th percentile and maximum. For numerical and integer variables, the <code>summary</code> function produces the five number summary, plus the mean, and a count of any missing values (NA’s).</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb201-2" title="2"><span class="st">  </span><span class="kw">select</span>(waist, energy, sugar) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb201-3" title="3"><span class="st">  </span><span class="kw">summary</span>()</a></code></pre></div>
<pre><code>     waist            energy         sugar       
 Min.   : 42.50   Min.   : 257   Min.   :  1.00  
 1st Qu.: 55.60   1st Qu.:1368   1st Qu.: 82.66  
 Median : 64.80   Median :1794   Median :116.92  
 Mean   : 67.71   Mean   :1877   Mean   :124.32  
 3rd Qu.: 76.60   3rd Qu.:2306   3rd Qu.:157.05  
 Max.   :144.70   Max.   :5265   Max.   :405.49  
 NA&#39;s   :6                                       </code></pre>
<p>As an alternative, we can use the <code>$</code> notation to indicate the variable we wish to study inside a data set, and we can use the <code>fivenum</code> function to get the five numbers used in developing a box plot. We’ll focus for a little while on the number of kilocalories consumed by each child, according to the dietary recall questionnaire. That’s the <code>energy</code> variable.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" title="1"><span class="kw">fivenum</span>(nnyfs<span class="op">$</span>energy)</a></code></pre></div>
<pre><code>[1]  257.0 1367.0 1794.5 2306.0 5265.0</code></pre>
<ul>
<li>As mentioned in <a href="summarizing-quantities.html#rangeandiqr">5.3.1</a>, the <strong>inter-quartile range</strong>, or IQR, is sometimes used as a competitor for the standard deviation. It’s the difference between the 75th percentile and the 25th percentile. The 25th percentile, median, and 75th percentile are referred to as the quartiles of the data set, because, together, they split the data into quarters.</li>
</ul>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" title="1"><span class="kw">IQR</span>(nnyfs<span class="op">$</span>energy)</a></code></pre></div>
<pre><code>[1] 938.5</code></pre>
<p>We can obtain <strong>quantiles</strong> (percentiles) as we like - here, I’m asking for the 1st and 99th:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" title="1"><span class="kw">quantile</span>(nnyfs<span class="op">$</span>energy, <span class="dt">probs=</span><span class="kw">c</span>(<span class="fl">0.01</span>, <span class="fl">0.99</span>))</a></code></pre></div>
<pre><code>     1%     99% 
 566.85 4051.75 </code></pre>
</div>
</div>
<div id="additional-summaries-from-favstats" class="section level2">
<h2><span class="header-section-number">7.4</span> Additional Summaries from <code>favstats</code></h2>
<p>If we’re focusing on a single variable, the <code>favstats</code> function in the <code>mosaic</code> package can be very helpful. Rather than calling up the entire <code>mosaic</code> library here, I’ll just specify the function within the library.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" title="1">mosaic<span class="op">::</span><span class="kw">favstats</span>(<span class="op">~</span><span class="st"> </span>energy, <span class="dt">data =</span> nnyfs)</a></code></pre></div>
<pre><code> min     Q1 median   Q3  max     mean       sd    n missing
 257 1367.5 1794.5 2306 5265 1877.157 722.3537 1518       0</code></pre>
<p>This adds three useful results to the base summary - the standard deviation, the sample size and the number of missing observations.</p>
</div>
<div id="the-histogram" class="section level2">
<h2><span class="header-section-number">7.5</span> The Histogram</h2>
<p>As we saw in <a href="dataviz.html#dataviz">3</a>, obtaining a basic <strong>histogram</strong> of, for example, the energy (kilocalories consumed) in the <code>nnyfs</code> data is pretty straightforward.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb211-2" title="2"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">100</span>, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_energyhist-fig-1.png" width="672" /></p>
<div id="freedman-diaconis-rule-to-select-bin-width" class="section level3">
<h3><span class="header-section-number">7.5.1</span> Freedman-Diaconis Rule to select bin width</h3>
<p>If we like, we can suggest a particular number of cells for the histogram, instead of accepting the defaults. In this case, we have <span class="math inline">\(n\)</span> = 1518 observations. The <strong>Freedman-Diaconis rule</strong> can be helpful here. That rule suggests that we set the bin-width to</p>
<p><span class="math display">\[
h = \frac{2*IQR}{n^{1/3}}
\]</span></p>
<p>so that the number of bins is equal to the range of the data set (maximum - minimum) divided by <span class="math inline">\(h\)</span>.</p>
<p>For the <code>energy</code> data in the <code>nnyfs</code> tibble, we have</p>
<ul>
<li>IQR of 938.5, <span class="math inline">\(n\)</span> = 1518 and range = 5008</li>
<li>Thus, by the Freedman-Diaconis rule, the optimal binwidth <span class="math inline">\(h\)</span> is 163.3203676, or, realistically, 163.</li>
<li>And so the number of bins would be 30.6636586, or, realistically 31.</li>
</ul>
<p>Here, we’ll draw the graph again, using the Freedman-Diaconis rule to identify the number of bins, and also play around a bit with the fill and color of the bars.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" title="1">bw &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">IQR</span>(nnyfs<span class="op">$</span>energy) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(nnyfs<span class="op">$</span>energy)<span class="op">^</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb212-2" title="2"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb212-3" title="3"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth=</span>bw, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;black&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_energyhist2-fig-1.png" width="672" /></p>
<p>This is a nice start, but it is by no means a finished graph.</p>
<p>Let’s improve the axis labels, add a title, and fill in the bars with a distinctive blue and use a black outline around each bar. I’ll just use 25 bars, because I like how that looks in this case, and optimizing the number of bins is rarely important.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb213-2" title="2"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">bins=</span><span class="dv">25</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb213-3" title="3"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Histogram of Body-Mass Index Results in the nnyfs data&quot;</span>,</a>
<a class="sourceLine" id="cb213-4" title="4">         <span class="dt">x =</span> <span class="st">&quot;Energy Consumed (kcal)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;# of Subjects&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_energyhist3-fig-1.png" width="672" /></p>
</div>
<div id="a-note-on-colors" class="section level3">
<h3><span class="header-section-number">7.5.2</span> A Note on Colors</h3>
<p>The simplest way to specify a color is with its name, enclosed in parentheses. My favorite list of R colors is <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf" class="uri">http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</a>. In a pinch, you can usually find it by googling <strong>Colors in R</strong>. You can also type <code>colors()</code> in the R console to obtain a list of the names of the same 657 colors.</p>
<p>When using colors to make comparisons, you may be interested in using a scale that has some nice properties. The <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">viridis package vignette</a> describes four color scales (viridis, magma, plasma and inferno) that are designed to be colorful, robust to colorblindness and gray scale printing, and perceptually uniform, which means (as the package authors describe it) that values close to each other have similar-appearing colors and values far away from each other have more different-appearing colors, consistently across the range of values. We can apply these colors with special functions within <code>ggplot</code>.</p>
<p>Here’s a comparison of several histograms, looking at <code>energy</code> consumed as a function of whether yesterday was typical in terms of food consumption.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy, <span class="dt">fill =</span> diet_yesterday)) <span class="op">+</span></a>
<a class="sourceLine" id="cb214-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">20</span>, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb214-3" title="3"><span class="st">  </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb214-4" title="4"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>diet_yesterday)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>We don’t really need the legend here, and perhaps we should restrict the plot to participants who responded to the <code>diet_yesterday</code> question, and put in a title and better axis labels?</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(energy, diet_yesterday)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb215-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> ., <span class="kw">aes</span>(<span class="dt">x =</span> energy, <span class="dt">fill =</span> diet_yesterday)) <span class="op">+</span></a>
<a class="sourceLine" id="cb215-3" title="3"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">20</span>, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb215-4" title="4"><span class="st">  </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb215-5" title="5"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb215-6" title="6"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>diet_yesterday) <span class="op">+</span></a>
<a class="sourceLine" id="cb215-7" title="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Energy consumed, in kcal&quot;</span>,</a>
<a class="sourceLine" id="cb215-8" title="8">       <span class="dt">title =</span> <span class="st">&quot;Energy Consumption and How Typical Was Yesterday&#39;s Eating&quot;</span>,</a>
<a class="sourceLine" id="cb215-9" title="9">       <span class="dt">subtitle =</span> <span class="st">&quot;NHANES National Youth Fitness Survey, no survey weighting&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
</div>
<div id="the-stem-and-leaf" class="section level2">
<h2><span class="header-section-number">7.6</span> The Stem-and-Leaf</h2>
<p>We might consider a <strong>stem-and-leaf display</strong> (a John Tukey invention) to show the actual data values while retaining the shape of a histogram. The <code>scale</code> parameter can help expand the size of the diagram, so you can see more of the values. Stem and leaf displays are usually used for relatively small samples, perhaps with 10-200 observations, so we’ll first take a sample of 150 of the BMI values from the complete set gathered in the <code>nnyfs</code> tibble.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" title="1"><span class="kw">set.seed</span>(<span class="dv">431</span>) <span class="co"># set a seed for the random sampling so we can replicate the results</span></a>
<a class="sourceLine" id="cb216-2" title="2"></a>
<a class="sourceLine" id="cb216-3" title="3">sampleA &lt;-<span class="st"> </span><span class="kw">sample_n</span>(nnyfs, <span class="dv">150</span>, <span class="dt">replace =</span> <span class="ot">FALSE</span>) <span class="co"># draw a sample of 150 unique rows from nnyfs</span></a>
<a class="sourceLine" id="cb216-4" title="4"></a>
<a class="sourceLine" id="cb216-5" title="5"><span class="kw">stem</span>(sampleA<span class="op">$</span>bmi) <span class="co"># build a stem-and-leaf for those 150 sampled BMI values</span></a></code></pre></div>
<pre><code>
  The decimal point is at the |

  12 | 936678999
  14 | 012457880011233555566777789999
  16 | 0012233333335556688890001222355888889
  18 | 03455778991112556889
  20 | 02344678912378
  22 | 00013455779125
  24 | 346978
  26 | 03799446
  28 | 25
  30 | 2
  32 | 065
  34 | 14
  36 | 31
  38 | 
  40 | 
  42 | 
  44 | 
  46 | 
  48 | 3</code></pre>
<p>We can see that the minimum BMI value in this small sample is NA and the maximum BMI value is NA.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" title="1"><span class="kw">summary</span>(sampleA<span class="op">$</span>bmi)</a></code></pre></div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
  12.90   15.90   17.80   19.68   22.00   48.30       1 </code></pre>
<p>If we really wanted to, we could obtain a stem-and-leaf of all of the BMI values in the entire <code>nnyfs</code> data. The <code>scale</code> parameter lets us see some more of the values.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" title="1"><span class="kw">stem</span>(nnyfs<span class="op">$</span>bmi, <span class="dt">scale =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>
  The decimal point is at the |

  11 | 9
  12 | 679
  13 | 00123444555566666777788888999999999999
  14 | 00000001111111111112222222233333333333344444444445555555555666666667+48
  15 | 00000000000000111111111111112222222222222222222333333333333333333333+134
  16 | 00000000000000000000000011111111111111222222222222222223333333333333+114
  17 | 00000000000000000000001111111111111222222222222222222233333333333333+75
  18 | 00000000000000011111111111112222222222223333333334444444455555555555+39
  19 | 00000111111111111111222222222222222333333333333444444444555555555555+36
  20 | 00000000000001111111112222222333333333333444444455566666666666777778+3
  21 | 00000001111112222223333333334444444444555555555566666666777777778888+7
  22 | 00000000000001111111222222233333333444444445555566666677777788999999
  23 | 00000001111222222223333334444444555667778888899999
  24 | 000000112222233334444455555566666677788888899999
  25 | 00011122222233344444555666666677777888899999
  26 | 00011222223345555667789999
  27 | 002233444455566679999
  28 | 11122344456667778999
  29 | 0112222333567788
  30 | 1122222344556788999
  31 | 0013445567788
  32 | 0023344669
  33 | 1255
  34 | 01224456679
  35 | 0179
  36 | 369
  37 | 01458
  38 | 138
  39 | 
  40 | 0
  41 | 6
  42 | 8
  43 | 0
  44 | 
  45 | 
  46 | 9
  47 | 
  48 | 23</code></pre>
<p>Note that some of the rows extend far beyond what is displayed in the data (as indicated by the <code>+</code> sign, followed by a count of the number of unshown data values.)</p>
<div id="a-fancier-stem-and-leaf-display" class="section level3">
<h3><span class="header-section-number">7.6.1</span> A Fancier Stem-and-Leaf Display</h3>
<p>We can use the <code>stem.leaf</code> function in the <code>aplpack</code> package to obtain a fancier version of the stem-and-leaf plot, that identifies outlying values. Below, we display this new version for the random sample of 150 BMI observations we developed earlier.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" title="1">aplpack<span class="op">::</span><span class="kw">stem.leaf</span>(sampleA<span class="op">$</span>bmi)</a></code></pre></div>
<pre><code>1 | 2: represents 1.2
 leaf unit: 0.1
            n: 149
    1    12 | 9
    9    13 | 36678999
   17    14 | 01245788
   39    15 | 0011233555566777789999
   60    16 | 001223333333555668889
  (16)   17 | 0001222355888889
   73    18 | 0345577899
   63    19 | 1112556889
   53    20 | 023446789
   44    21 | 12378
   39    22 | 00013455779
   28    23 | 125
   25    24 | 3469
   21    25 | 78
   19    26 | 03799
   14    27 | 446
         28 | 
   11    29 | 25
    9    30 | 2
HI: 32 32.6 33.5 34.1 34.4 36.3 37.1 48.3
NA&#39;s: 1</code></pre>
<p>We can also produce back-to-back stem and leaf plots to compare, for instance, body-mass index by sex.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" title="1">samp.F &lt;-<span class="st"> </span><span class="kw">filter</span>(sampleA, sex<span class="op">==</span><span class="st">&quot;Female&quot;</span>)</a>
<a class="sourceLine" id="cb224-2" title="2">samp.M &lt;-<span class="st"> </span><span class="kw">filter</span>(sampleA, sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>)</a>
<a class="sourceLine" id="cb224-3" title="3"></a>
<a class="sourceLine" id="cb224-4" title="4">aplpack<span class="op">::</span><span class="kw">stem.leaf.backback</span>(samp.F<span class="op">$</span>bmi, samp.M<span class="op">$</span>bmi)</a></code></pre></div>
<pre><code>___________________________________________________
  1 | 2: represents 1.2, leaf unit: 0.1 
            samp.F$bmi      samp.M$bmi        
___________________________________________________
   1                 9| 12 |                       
   5              9863| 13 |6799               4   
   7                10| 14 |245788            10   
  19      999875532100| 15 |1355667779        20   
  25            863330| 16 |012233335556889   35   
  29              8210| 17 |002235588889     (12)  
  (4)             9750| 18 |345789            38   
  31            985211| 19 |1568              32   
  25               943| 20 |024678            28   
  22              8731| 21 |2                 22   
  18               000| 22 |13455779          21   
  15                51| 23 |2                 13   
  13                63| 24 |49                12   
  11                87| 25 |                       
   9                 0| 26 |3799              10   
   8               644| 27 |                       
                      | 28 |                       
   5                 2| 29 |5                  6   
   4                 2| 30 |                       
                      | 31 |                       
___________________________________________________
HI: 33.5 37.1 48.3          HI: 32 32.6 34.1 34.4 
                            36.3                  
n:                  65      85                
NAs:                 1      0                 
___________________________________________________</code></pre>
</div>
</div>
<div id="the-dot-plot-to-display-a-distribution" class="section level2">
<h2><span class="header-section-number">7.7</span> The Dot Plot to display a distribution</h2>
<p>We can plot the distribution of a single continuous variable using the <code>dotplot</code> geom:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb226-2" title="2"><span class="st">    </span><span class="kw">geom_dotplot</span>(<span class="dt">dotsize =</span> <span class="fl">0.05</span>, <span class="dt">binwidth=</span><span class="dv">150</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb226-3" title="3"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="ot">NULL</span>, <span class="dt">breaks =</span> <span class="ot">NULL</span>) <span class="op">+</span><span class="st"> </span><span class="co"># hides y-axis since it is meaningless</span></a>
<a class="sourceLine" id="cb226-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Dotplot of nnyfs Kilocalories consumed&quot;</span>,</a>
<a class="sourceLine" id="cb226-5" title="5">         <span class="dt">x =</span> <span class="st">&quot;Energy, in kcal&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_bmidotplot-fig-1.png" width="672" /></p>
</div>
<div id="the-frequency-polygon" class="section level2">
<h2><span class="header-section-number">7.8</span> The Frequency Polygon</h2>
<p>We can plot the distribution of a single continuous variable using the <code>freqpoly</code> geom:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb227-2" title="2"><span class="st">    </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="dv">150</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb227-3" title="3"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Frequency Polygon of nnyfs Energy data&quot;</span>,</a>
<a class="sourceLine" id="cb227-4" title="4">         <span class="dt">x =</span> <span class="st">&quot;Energy (kcal)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;# of Patients&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_bmifreqpoly-fig-1.png" width="672" /></p>
</div>
<div id="plotting-the-probability-density-function" class="section level2">
<h2><span class="header-section-number">7.9</span> Plotting the Probability Density Function</h2>
<p>We can also produce a density function, which has the effect of smoothing out the bumps in a histogram or frequency polygon, while also changing what is plotted on the y-axis.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> energy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb228-2" title="2"><span class="st">    </span><span class="kw">geom_density</span>(<span class="dt">kernel =</span> <span class="st">&quot;gaussian&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb228-3" title="3"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Density of nnyfs Energy data&quot;</span>,</a>
<a class="sourceLine" id="cb228-4" title="4">         <span class="dt">x =</span> <span class="st">&quot;Energy (kcal)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Probability Density function&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_bmidensity-fig-1.png" width="672" /></p>
<p>So, what’s a density function?</p>
<ul>
<li>A probability density function is a function of a continuous variable, x, that represents the probability of x falling within a given range. Specifically, the integral over the interval (a,b) of the density function gives the probability that the value of x is within (a,b).</li>
<li>If you’re interested in exploring more on the notion of density functions for continuous (and discrete) random variables, some nice elementary material is available at <a href="https://www.khanacademy.org/math/statistics-probability/random-variables-stats-library/discrete-and-continuous-random-variables/v/probability-density-functions">Khan Academy</a>.</li>
</ul>
</div>
<div id="the-boxplot" class="section level2">
<h2><span class="header-section-number">7.10</span> The Boxplot</h2>
<p>Sometimes, it’s helpful to picture the five-number summary of the data in such a way as to get a general sense of the distribution. One approach is a <strong>boxplot</strong>, sometimes called a box-and-whisker plot.</p>
<div id="drawing-a-boxplot-for-one-variable-in-ggplot2" class="section level3">
<h3><span class="header-section-number">7.10.1</span> Drawing a Boxplot for One Variable in <code>ggplot2</code></h3>
<p>The <code>ggplot2</code> library easily handles comparison boxplots for multiple distributions, as we’ll see in a moment. However, building a boxplot for a single distribution requires a little trickiness.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> energy)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb229-2" title="2"><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="dt">fill =</span> <span class="st">&quot;deepskyblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb229-3" title="3"><span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb229-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Boxplot of Energy for kids in the NNYFS&quot;</span>,</a>
<a class="sourceLine" id="cb229-5" title="5">         <span class="dt">y =</span> <span class="st">&quot;Energy (kcal)&quot;</span>,</a>
<a class="sourceLine" id="cb229-6" title="6">         <span class="dt">x =</span> <span class="st">&quot;&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb229-7" title="7"><span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb229-8" title="8">          <span class="dt">axis.ticks.y =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_boxplot2-fig-1.png" width="672" /></p>
</div>
<div id="about-the-boxplot" class="section level3">
<h3><span class="header-section-number">7.10.2</span> About the Boxplot</h3>
<p>The boxplot is another John Tukey invention.</p>
<ul>
<li>R draws the box (here in yellow) so that its edges of the box fall at the 25<sup>th</sup> and 75<sup>th</sup> percentiles of the data, and the thick line inside the box falls at the median (50<sup>th</sup> percentile).</li>
<li>The whiskers then extend out to the largest and smallest values that are not classified by the plot as candidate <em>outliers</em>.</li>
<li>An outlier is an unusual point, far from the center of a distribution.</li>
<li>Note that I’ve used the <code>horizontal</code> option to show this boxplot in this direction. Most comparison boxplots, as we’ll see below, are oriented vertically.</li>
</ul>
<p>The boxplot’s <strong>whiskers</strong> that are drawn from the first and third quartiles (i.e. the 25<sup>th</sup> and 75<sup>th</sup> percentiles) out to the most extreme points in the data that do not meet the standard of ``candidate outliers.’’ An outlier is simply a point that is far away from the center of the data - which may be due to any number of reasons, and generally indicates a need for further investigation.</p>
<p>Most software, including R, uses a standard proposed by Tukey which describes a ``candidate outlier’’ as any point above the <strong><em>upper fence</em></strong> or below the <strong><em>lower fence</em></strong>. The definitions of the fences are based on the inter-quartile range (IQR).</p>
<p>If IQR = 75th percentile - 25th percentile, then the upper fence is 75th percentile + 1.5 IQR, and the lower fence is 25th percentile - 1.5 IQR.</p>
<p>So for these <code>energy</code> data,</p>
<ul>
<li>the upper fence is located at 2306 + 1.5(938.5) = 3713.75</li>
<li>the lower fence is located at 1367 - 1.5(938.5) = -40.75</li>
</ul>
<p>In this case, we see no points identified as outliers in the low part of the distribution, but quite a few identified that way on the high side. This tends to identify about 5% of the data as a candidate outlier, <em>if</em> the data follow a Normal distribution.</p>
<ul>
<li>This plot is indicating clearly that there is some asymmetry (skew) in the data, specifically right skew.</li>
<li>The standard R uses is to indicate as outliers any points that are more than 1.5 inter-quartile ranges away from the edges of the box.</li>
</ul>
<p>The horizontal orientation I’ve chosen here clarifies the relationship of direction of skew to the plot. A plot like this, with multiple outliers on the right side is indicative of a long right tail in the distribution, and hence, positive or right skew - with the mean being larger than the median. Other indications of skew include having one side of the box being substantially wider than the other, or one side of the whiskers being substantially longer than the other. More on skew later.</p>
</div>
</div>
<div id="a-simple-comparison-boxplot" class="section level2">
<h2><span class="header-section-number">7.11</span> A Simple Comparison Boxplot</h2>
<p>Boxplots are most often used for comparison. We can build boxplots using <code>ggplot2</code>, as well, and we’ll discuss that in detail later. For now, here’s a boxplot built to compare the <code>energy</code> results by the subject’s race/ethnicity.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(race_eth), <span class="dt">y =</span> energy, <span class="dt">fill=</span><span class="kw">factor</span>(race_eth))) <span class="op">+</span></a>
<a class="sourceLine" id="cb230-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb230-3" title="3"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb230-4" title="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Energy consumed (kcal)&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Race/Ethnicity&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_boxplot3-fig-1.png" width="672" /></p>
<p>Let’s look at the comparison of observed <code>energy</code> levels across the five categories in our <code>phys_health</code> variable, now making use of the <code>viridis</code> color scheme.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(phys_health), <span class="dt">y =</span> energy, <span class="dt">fill =</span> <span class="kw">factor</span>(phys_health))) <span class="op">+</span></a>
<a class="sourceLine" id="cb231-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb231-3" title="3"><span class="st">  </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb231-4" title="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Energy by Self-Reported Physical Health, in nnyfs data&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_boxplot4-fig-1.png" width="672" /></p>
<p>As a graph, that’s not bad, but what if we want to improve it further?</p>
<p>Let’s turn the boxes in the horizontal direction, and get rid of the perhaps unnecessary <code>phys_health</code> labels.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" title="1"><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(phys_health), <span class="dt">y =</span> energy, <span class="dt">fill =</span> <span class="kw">factor</span>(phys_health))) <span class="op">+</span></a>
<a class="sourceLine" id="cb232-2" title="2"><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb232-3" title="3"><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb232-4" title="4"><span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb232-5" title="5"><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill=</span><span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb232-6" title="6"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Energy Consumed by Self-Reported Physical Health&quot;</span>, </a>
<a class="sourceLine" id="cb232-7" title="7">         <span class="dt">subtitle =</span> <span class="st">&quot;NHANES National Youth Fitness Survey, unweighted&quot;</span>, </a>
<a class="sourceLine" id="cb232-8" title="8">         <span class="dt">x =</span> <span class="st">&quot;&quot;</span>)</a></code></pre></div>
<p><img src="2019-431-book_files/figure-html/nnyfs_boxplot5-fig-1.png" width="672" /></p>
</div>
<div id="using-describe-in-the-psych-library" class="section level2">
<h2><span class="header-section-number">7.12</span> Using <code>describe</code> in the <code>psych</code> library</h2>
<p>For additional numerical summaries, one option would be to consider using the <code>describe</code> function from the <code>psych</code> library.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" title="1">psych<span class="op">::</span><span class="kw">describe</span>(nnyfs<span class="op">$</span>energy)</a></code></pre></div>
<pre><code>   vars    n    mean     sd median trimmed    mad min  max range skew
X1    1 1518 1877.16 722.35 1794.5  1827.1 678.29 257 5265  5008  0.8
   kurtosis    se
X1     1.13 18.54</code></pre>
<p>This package provides, in order, the following…</p>
<ul>
<li><code>n</code> = the sample size</li>
<li><code>mean</code> = the sample mean</li>
<li><code>sd</code> = the sample standard deviation</li>
<li><code>median</code> = the median, or 50th percentile</li>
<li><code>trimmed</code> = mean of the middle 80% of the data</li>
<li><code>mad</code> = median absolute deviation</li>
<li><code>min</code> = minimum value in the sample</li>
<li><code>max</code> = maximum value in the sample</li>
<li><code>range</code> = max - min</li>
<li><code>skew</code> = skewness measure, described below (indicates degree of asymmetry)</li>
<li><code>kurtosis</code> = kurtosis measure, described below (indicates heaviness of tails, degree of outlier-proneness)</li>
<li><code>se</code> = standard error of the sample mean = sd / square root of sample size, useful in inference</li>
</ul>
<div id="the-trimmed-mean" class="section level3">
<h3><span class="header-section-number">7.12.1</span> The Trimmed Mean</h3>
<p>The <strong>trimmed mean</strong> trim value in R indicates proportion of observations to be trimmed from each end of the outcome distribution before the mean is calculated. The <code>trimmed</code> value provided by the <code>psych::describe</code> package describes what this particular package calls a 20% trimmed mean (bottom and top 10% of <code>energy</code> values are removed before taking the mean - it’s the mean of the middle 80% of the data.) I might call that a 10% trimmed mean in some settings, but that’s just me.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" title="1"><span class="kw">mean</span>(nnyfs<span class="op">$</span>energy, <span class="dt">trim=</span>.<span class="dv">1</span>) </a></code></pre></div>
<pre><code>[1] 1827.1</code></pre>
</div>
<div id="the-median-absolute-deviation" class="section level3">
<h3><span class="header-section-number">7.12.2</span> The Median Absolute Deviation</h3>
<p>An alternative to the IQR that is fancier, and a bit more robust, is the <strong>median absolute deviation</strong>, which, in large sample sizes, for data that follow a Normal distribution, will be (in expectation) equal to the standard deviation. The MAD is the median of the absolute deviations from the median, multiplied by a constant (1.4826) to yield asymptotically normal consistency.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb237-1" title="1"><span class="kw">mad</span>(nnyfs<span class="op">$</span>energy)</a></code></pre></div>
<pre><code>[1] 678.2895</code></pre>
</div>
</div>
<div id="assessing-skew" class="section level2">
<h2><span class="header-section-number">7.13</span> Assessing Skew</h2>
<p>A relatively common idea is to assess <strong>skewness</strong>, several measures of which (including the one below, sometimes called type 3 skewness, or Pearson’s moment coefficient of skewness) are available. Many models assume a Normal distribution, where, among other things, the data are symmetric around the mean.</p>
<p>Skewness measures asymmetry in the distribution - left skew (mean &lt; median) is indicated by negative skewness values, while right skew (mean &gt; median) is indicated by positive values. The skew value will be near zero for data that follow a Normal distribution.</p>
<div id="non-parametric-skew-via-skew1" class="section level3">
<h3><span class="header-section-number">7.13.1</span> Non-parametric Skew via skew<sub>1</sub></h3>
<p>A simpler measure of skew, sometimes called the <strong>nonparametric skew</strong> and closely related to Pearson’s notion of median skewness, falls between -1 and +1 for any distribution. It is just the difference between the mean and the median, divided by the standard deviation.</p>
<ul>
<li>Values greater than +0.2 are sometimes taken to indicate fairly substantial right skew, while values below -0.2 indicate fairly substantial left skew.</li>
</ul>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb239-1" title="1">(<span class="kw">mean</span>(nnyfs<span class="op">$</span>energy) <span class="op">-</span><span class="st"> </span><span class="kw">median</span>(nnyfs<span class="op">$</span>energy))<span class="op">/</span><span class="kw">sd</span>(nnyfs<span class="op">$</span>energy)</a></code></pre></div>
<pre><code>[1] 0.114427</code></pre>
<p><a href="https://en.wikipedia.org/wiki/Skewness">The Wikipedia page on skewness</a>, from which some of this material is derived, provides definitions for several other skewness measures.</p>
</div>
</div>
<div id="assessing-kurtosis-heavy-tailedness" class="section level2">
<h2><span class="header-section-number">7.14</span> Assessing Kurtosis (Heavy-Tailedness)</h2>
<p>Another measure of a distribution’s shape that can be found in the <code>psych</code> library is the <strong>kurtosis</strong>. Kurtosis is an indicator of whether the distribution is heavy-tailed or light-tailed as compared to a Normal distribution. Positive kurtosis means more of the variance is due to outliers - unusual points far away from the mean relative to what we might expect from a Normally distributed data set with the same standard deviation.</p>
<ul>
<li>A Normal distribution will have a kurtosis value near 0, a distribution with similar tail behavior to what we would expect from a Normal is said to be <em>mesokurtic</em></li>
<li>Higher kurtosis values (meaningfully higher than 0) indicate that, as compared to a Normal distribution, the observed variance is more the result of extreme outliers (i.e. heavy tails) as opposed to being the result of more modest sized deviations from the mean. These heavy-tailed, or outlier prone, distributions are sometimes called <em>leptokurtic</em>.</li>
<li>Kurtosis values meaningfully lower than 0 indicate light-tailed data, with fewer outliers than we’d expect in a Normal distribution. Such distributions are sometimes referred to as <em>platykurtic</em>, and include distributions without outliers, like the Uniform distribution.</li>
</ul>
<p>Here’s a table:</p>
<table>
<colgroup>
<col width="37%" />
<col width="26%" />
<col width="36%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Fewer outliers than a Normal</th>
<th align="center">Approximately Normal</th>
<th align="center">More outliers than a Normal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Light-tailed</td>
<td align="center">“Normalish”</td>
<td align="center">Heavy-tailed</td>
</tr>
<tr class="even">
<td align="center"><em>platykurtic</em> (kurtosis &lt; 0)</td>
<td align="center"><em>mesokurtic</em> (kurtosis = 0)</td>
<td align="center"><em>leptokurtic</em> (kurtosis &gt; 0)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb241-1" title="1">psych<span class="op">::</span><span class="kw">kurtosi</span>(nnyfs<span class="op">$</span>energy)</a></code></pre></div>
<pre><code>[1] 1.130539</code></pre>
<div id="the-standard-error-of-the-sample-mean" class="section level3">
<h3><span class="header-section-number">7.14.1</span> The Standard Error of the Sample Mean</h3>
<p>The <strong>standard error</strong> of the sample mean, which is the standard deviation divided by the square root of the sample size:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb243-1" title="1"><span class="kw">sd</span>(nnyfs<span class="op">$</span>energy)<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">length</span>(nnyfs<span class="op">$</span>energy))</a></code></pre></div>
<pre><code>[1] 18.54018</code></pre>
</div>
</div>
<div id="the-describe-function-in-the-hmisc-library" class="section level2">
<h2><span class="header-section-number">7.15</span> The <code>describe</code> function in the <code>Hmisc</code> library</h2>
<p>The <code>Hmisc</code> library has lots of useful functions. It’s named for its main developer, Frank Harrell. The <code>describe</code> function in <code>Hmisc</code> knows enough to separate numerical from categorical variables, and give you separate (and detailed) summaries for each.</p>
<ul>
<li>For a categorical variable, it provides counts of total observations (n), the number of missing values, and the number of unique categories, along with counts and percentages falling in each category.</li>
<li>For a numerical variable, it provides:</li>
<li>counts of total observations (n), the number of missing values, and the number of unique values</li>
<li>an Info value for the data, which indicates how continuous the variable is (a score of 1 is generally indicative of a completely continuous variable with no ties, while scores near 0 indicate lots of ties, and very few unique values)</li>
<li>the sample Mean</li>
<li>many sample percentiles (quantiles) of the data, specifically (5, 10, 25, 50, 75, 90, 95, 99)</li>
<li>either a complete table of all observed values, with counts and percentages (if there are a modest number of unique values), or</li>
<li>a table of the five smallest and five largest values in the data set, which is useful for range checking</li>
</ul>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" title="1">nnyfs <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-2" title="2"><span class="st">  </span><span class="kw">select</span>(waist, energy, bmi) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb245-3" title="3"><span class="st">  </span>Hmisc<span class="op">::</span><span class="kw">describe</span>()</a></code></pre></div>
<pre><code>. 

 3  Variables      1518  Observations
---------------------------------------------------------------------------
waist 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1512        6      510        1    67.71     16.6    49.40    51.40 
     .25      .50      .75      .90      .95 
   55.60    64.80    76.60    88.70    96.84 

lowest :  42.5  43.4  44.1  44.4  44.5, highest: 125.8 126.0 127.0 132.3 144.7
---------------------------------------------------------------------------
energy 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1518        0     1137        1     1877    796.1      849     1047 
     .25      .50      .75      .90      .95 
    1368     1794     2306     2795     3195 

lowest :  257  260  326  349  392, highest: 4382 4529 5085 5215 5265
---------------------------------------------------------------------------
bmi 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1514        4      225        1    19.63    5.269    14.30    14.90 
     .25      .50      .75      .90      .95 
   15.90    18.10    21.90    26.27    30.20 

lowest : 11.9 12.6 12.7 12.9 13.0, highest: 42.8 43.0 46.9 48.2 48.3
---------------------------------------------------------------------------</code></pre>
<p>More on the <code>Info</code> value in Hmisc::describe is <a href="https://cran.r-project.org/web/packages/Hmisc/Hmisc.pdf#page=67">available here</a></p>
</div>
<div id="xda-from-github-for-numerical-summaries-for-exploratory-data-analysis" class="section level2">
<h2><span class="header-section-number">7.16</span> <code>xda</code> from GitHub for numerical summaries for exploratory data analysis</h2>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" title="1"><span class="co">## next two commands needed if xda is not already installed</span></a>
<a class="sourceLine" id="cb247-2" title="2"></a>
<a class="sourceLine" id="cb247-3" title="3"><span class="kw">library</span>(devtools)</a>
<a class="sourceLine" id="cb247-4" title="4"><span class="kw">install_github</span>(<span class="st">&quot;ujjwalkarn/xda&quot;</span>)</a></code></pre></div>
<pre><code>Skipping install of &#39;xda&#39; from a github remote, the SHA1 (86cf14db) has not changed since last install.
  Use `force = TRUE` to force installation</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" title="1">xda<span class="op">::</span><span class="kw">numSummary</span>(nnyfs)</a></code></pre></div>
<pre><code>                        n     mean       sd      max      min   range
SEQN                 1518 7.27e+04 4.57e+02  73492.0 71917.00  1575.0
age_child            1518 9.03e+00 3.71e+00     15.0     3.00    12.0
educ_child           1181 4.26e+00 2.82e+00      9.0     0.00     9.0
sampling_wt          1518 3.41e+04 1.60e+04 104673.9  9412.87 95261.0
income_pov           1429 2.24e+00 1.61e+00      5.0     0.00     5.0
age_adult            1518 4.00e+01 9.60e+00     80.0    18.00    62.0
energy               1518 1.88e+03 7.22e+02   5265.0   257.00  5008.0
protein              1518 6.69e+01 3.10e+01    241.8     4.18   237.7
sugar                1518 1.24e+02 5.90e+01    405.5     1.00   404.5
fat                  1518 6.74e+01 3.37e+01    235.2     1.70   233.5
water                1518 5.43e+02 6.50e+02   8591.2     0.00  8591.2
plank_time           1384 6.11e+01 4.58e+01    450.0     1.00   449.0
height               1514 1.37e+02 2.30e+01    188.9    89.70    99.2
weight               1514 3.98e+01 2.08e+01    136.9    12.30   124.6
bmi                  1514 1.96e+01 5.08e+00     48.3    11.90    36.4
arm_length           1511 2.90e+01 5.63e+00     42.5    17.30    25.2
waist                1512 6.77e+01 1.52e+01    144.7    42.50   102.2
arm_circ             1513 2.29e+01 5.50e+00     46.8    13.70    33.1
calf_circ            1509 2.98e+01 6.19e+00     55.9    18.30    37.6
calf_skinfold        1390 1.37e+01 6.81e+00     39.9     3.70    36.2
triceps_skinfold     1497 1.44e+01 6.76e+00     38.8     4.00    34.8
subscapular_skinfold 1451 1.07e+01 6.31e+00     38.0     3.70    34.3
active_days          1513 5.39e+00 2.12e+00      7.0     0.00     7.0
tv_hours             1514 1.90e+00 1.37e+00      5.0     0.00     5.0
computer_hours       1515 1.04e+00 1.35e+00      5.0     0.00     5.0
meals_out            1510 1.79e+00 2.13e+00     20.0     0.00    20.0
med_count            1518 2.96e-01 7.56e-01      6.0     0.00     6.0
                     nunique nzeros      iqr lowerbound upperbound
SEQN                    1518      0   792.00   71121.25   74288.75
age_child                 13      0     6.00      -3.00      21.00
educ_child                11    146     5.00      -5.50      14.50
sampling_wt              845      0 19987.74   -6664.16   73223.34
income_pov               238     15     2.65      -3.10       7.49
age_adult                 55      0    12.00      15.00      63.00
energy                  1137      0   939.00     -41.00    3714.50
protein                 1482      0    37.25     -10.55     138.44
sugar                   1491      0    74.35     -28.86     268.57
fat                     1474      0    42.48     -20.57     149.34
water                    342    326   636.94    -851.73    1696.05
plank_time               190      0    55.00     -55.50     164.75
height                   694      0    38.45      60.67     214.45
weight                   615      0    30.55     -23.30      98.90
bmi                      226      0     6.00       6.90      30.90
arm_length               222      0     9.60       9.80      48.20
waist                    511      0    21.00      24.10     108.10
arm_circ                 240      0     7.80       6.70      37.90
calf_circ                259      0     9.57      10.34      48.66
calf_skinfold            253      0     8.40      -4.00      29.60
triceps_skinfold         263      0     8.90      -4.25      31.35
subscapular_skinfold     230      0     7.00      -4.30      23.70
active_days                9     68     3.00      -0.50      11.50
tv_hours                   7    254     2.00      -2.00       6.00
computer_hours             7    759     2.00      -3.00       5.00
meals_out                 17    425     2.00      -3.00       5.00
med_count                  7   1241     0.00       0.00       0.00
                     noutlier kurtosis  skewness    mode miss  miss%
SEQN                        0  -1.2050  0.000814 71917.0    0  0.000
age_child                   0  -1.2317 -0.025225    12.0    0  0.000
educ_child                  0  -1.2195  0.010719      NA  337 22.200
sampling_wt                37   1.9218  1.123744 53977.6    0  0.000
income_pov                  0  -1.1165  0.501565     5.0   89  5.863
age_adult                  20   0.8409  0.631691    40.0    0  0.000
energy                     30   1.1305  0.797210  1915.0    0  0.000
protein                    45   2.0114  1.121048    82.5    0  0.000
sugar                      30   1.4265  0.921237    94.7    0  0.000
fat                        43   1.6609  1.024582    76.7    0  0.000
water                      79  24.9830  3.486903     0.0    0  0.000
plank_time                 40   5.3557  1.538689      NA  134  8.827
height                      0  -1.0648 -0.057423   154.0    4  0.264
weight                     18   1.0902  1.031371    22.0    4  0.264
bmi                        63   3.3768  1.600300    15.5    4  0.264
arm_length                  0  -1.0848 -0.023759    34.0    7  0.461
waist                      25   1.1911  1.041341    55.4    6  0.395
arm_circ                   19   0.5714  0.862535    17.0    5  0.329
calf_circ                   6  -0.1366  0.535805    33.0    9  0.593
calf_skinfold              49   0.7705  1.114848      NA  128  8.432
triceps_skinfold           39   0.8936  1.135255     8.0   21  1.383
subscapular_skinfold       77   2.2220  1.573722      NA   67  4.414
active_days                 0   0.0351 -1.095239     7.0    5  0.329
tv_hours                    0  -0.2414  0.538424     2.0    4  0.264
computer_hours              0   0.8827  1.293648     0.0    3  0.198
meals_out                  70  12.4583  2.823921     0.0    8  0.527
med_count                 277  14.3174  3.409516     0.0    0  0.000
                           1%       5%      25%      50%      75%     95%
SEQN                 7.19e+04 71993.85 72309.25 72704.50 73100.75 73415.2
age_child            3.00e+00     3.00     6.00     9.00    12.00    15.0
educ_child           0.00e+00     0.00     2.00     4.00     7.00     9.0
sampling_wt          1.07e+04 13352.52 23317.44 31605.91 43241.74 62215.7
income_pov           2.80e-03     0.31     0.87     1.74     3.52     5.0
age_adult            2.12e+01    26.00    33.00    40.00    45.00    56.0
energy               5.67e+02   849.00  1367.50  1794.50  2306.00  3195.4
protein              1.67e+01    26.53    45.33    61.25    82.57   125.7
sugar                2.41e+01    44.55    82.66   116.91   157.05   234.0
fat                  1.16e+01    22.74    43.16    61.98    85.62   129.9
water                0.00e+00     0.00   103.69   375.00   740.64  1718.2
plank_time           2.00e+00     5.00    27.00    54.00    82.25   144.0
height               9.45e+01   100.73   118.35   137.60   156.78   172.2
weight               1.36e+01    15.70    22.52    34.95    53.08    77.7
bmi                  1.35e+01    14.30    15.90    18.10    21.90    30.2
arm_length           1.88e+01    20.00    24.20    29.00    33.80    37.5
waist                4.61e+01    49.40    55.60    64.80    76.60    96.8
arm_circ             1.50e+01    16.10    18.40    22.00    26.20    33.3
calf_circ            1.98e+01    21.40    24.70    29.20    34.30    40.2
calf_skinfold        4.89e+00     5.95     8.60    12.00    17.00    27.7
triceps_skinfold     5.60e+00     6.80     9.10    12.40    18.00    28.0
subscapular_skinfold 4.20e+00     4.80     6.20     8.20    13.20    24.1
active_days          0.00e+00     1.00     4.00     7.00     7.00     7.0
tv_hours             0.00e+00     0.00     1.00     2.00     3.00     5.0
computer_hours       0.00e+00     0.00     0.00     0.00     2.00     4.0
meals_out            0.00e+00     0.00     0.00     1.00     2.00     5.0
med_count            0.00e+00     0.00     0.00     0.00     0.00     2.0
                         99%
SEQN                 73476.8
age_child               15.0
educ_child               9.0
sampling_wt          86783.8
income_pov               5.0
age_adult               66.0
energy                4051.7
protein                165.8
sugar                  309.1
fat                    172.8
water                 2841.3
plank_time             200.9
height                 180.5
weight                 103.2
bmi                     36.9
arm_length              39.5
waist                  112.2
arm_circ                38.3
calf_circ               45.3
calf_skinfold           33.8
triceps_skinfold        35.5
subscapular_skinfold    31.4
active_days              7.0
tv_hours                 5.0
computer_hours           5.0
meals_out               10.0
med_count                4.0</code></pre>
<p>Most of the elements of this <code>numSummary</code> should be familiar. Some new pieces include:</p>
<ul>
<li><code>nunique</code> = number of unique values</li>
<li><code>nzeroes</code> = number of zeroes</li>
<li><code>noutlier</code> = number of outliers (using a standard that isn’t entirely transparent to me)</li>
<li><code>miss</code> = number of rows with missing value</li>
<li><code>miss%</code> = percentage of total rows with missing values ((miss/n)*100)</li>
<li><code>5%</code> = 5th percentile value of that variable (value below which 5 percent of the observations may be found)</li>
</ul>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" title="1">xda<span class="op">::</span><span class="kw">charSummary</span>(nnyfs)</a></code></pre></div>
<pre><code>                      n miss  miss% unique
sex                1518    0  0.000      2
race_eth           1518    0  0.000      4
language           1518    0  0.000      2
educ_adult         1496   22  1.449      6
respondent         1506   12  0.791      4
salt_used          1505   13  0.856      3
diet_yesterday     1516    2  0.132      4
bmi_cat            1514    4  0.264      5
physical_last_week 1514    4  0.264      3
enjoy_recess       1240  278 18.314      6
insured            1518    0  0.000      2
phys_health        1518    0  0.000      5
access_to_care     1518    0  0.000      2
care_source        1518    0  0.000      6
asthma_ever        1518    0  0.000      2
asthma_now         1518    0  0.000      2
med_use            1518    0  0.000      2
insurance          1518    0  0.000     10
                                                                                                                        top5levels:count
sex                                                                                                                 Female:760, Male:758
race_eth                                  2_White Non-Hispanic:610, 1_Hispanic:450, 3_Black Non-Hispanic:338, 4_Other Race/Ethnicity:120
language                                                                                                       English:1285, Spanish:233
educ_adult         4_Some College:464, 5_College Graduate:386, 3_High School Graduate:318, 2_9-11th Grade:187, 1_Less than 9th Grade:141
respondent                                                                                                 Child:866, Mom:522, Other:118
salt_used                                                                                                                Yes:858, No:647
diet_yesterday                                                      2_Usual:1175, 3_Much less than usual:203, 1_Much more than usual:138
bmi_cat                                                                    2_Normal:920, 4_Obese:295, 3_Overweight:258, 1_Underweight:41
physical_last_week                                                                                                      Yes:1262, No:252
enjoy_recess                   1_Strongly Agree:903, 2_Agree:257, 3_Neither Agree nor Disagree:49, 4_Disagree:21, 5_Strongly Disagree:10
insured                                                                                               Has Insurance:1447, Not Insured:71
phys_health                                                             1_Excellent:742, 2_VeryGood:424, 3_Good:315, 4_Fair:35, 5_Poor:2
access_to_care                                                                       Has Usual Care Source:1491, No Usual Care Source:27
care_source            Doctor&#39;s Office:1164, Clinic or Health Center:297, No Usual Care Source:27, Hospital ER:18, Hospital Outpatient:8
asthma_ever                                                                                 Never Had Asthma:1258, History of Asthma:260
asthma_now                                                                                            No Asthma Now:1347, Asthma Now:171
med_use                                                                                          No Medications:1241, Had Medication:277
insurance                                                         Private:736, Medicaid:470, State Sponsored:179, Uninsured:71, SCHIP:21</code></pre>
<p>The <code>top5levels:count</code> provides the top 5 unique values for each variable, sorted by their counts.</p>
</div>
<div id="what-summaries-to-report" class="section level2">
<h2><span class="header-section-number">7.17</span> What Summaries to Report</h2>
<p>It is usually helpful to focus on the shape, center and spread of a distribution. Bock, Velleman and DeVeaux provide some useful advice:</p>
<ul>
<li>If the data are skewed, report the median and IQR (or the three middle quantiles). You may want to include the mean and standard deviation, but you should point out why the mean and median differ. The fact that the mean and median do not agree is a sign that the distribution may be skewed. A histogram will help you make that point.</li>
<li>If the data are symmetric, report the mean and standard deviation, and possibly the median and IQR as well.</li>
<li>If there are clear outliers and you are reporting the mean and standard deviation, report them with the outliers present and with the outliers removed. The differences may be revealing. The median and IQR are not likely to be seriously affected by outliers.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="summarizing-categorical-variables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="assessing-normality.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07_nnyfs_foundations.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["2019-431-book.pdf", "2019-431-book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
